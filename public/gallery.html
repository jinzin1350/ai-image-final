<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ฺฏุงูุฑ ุชุตุงูุฑ - ุนฺฉุงุณ ูุฏ ุจุง ููุด ูุตููุน</title>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <link rel="stylesheet" href="gallery-style.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="header-content">
                <h1>๐ผ๏ธ ฺฏุงูุฑ ุชุตุงูุฑ ูู</h1>
                <p class="subtitle">ุชูุงู ุชุตุงูุฑ ุชููุฏ ุดุฏู ุดูุง</p>
            </div>
            <a href="/" class="back-btn">โ ุจุงุฒฺฏุดุช ุจู ุตูุญู ุงุตู</a>
        </header>

        <div class="main-content">
            <!-- ููุชุฑูุง ู ุฌุณุชุฌู -->
            <section class="filters-section">
                <div class="filter-group">
                    <label for="sortSelect">ูุฑุชุจโุณุงุฒ:</label>
                    <select id="sortSelect" class="filter-dropdown">
                        <option value="newest">ุฌุฏุฏุชุฑู</option>
                        <option value="oldest">ูุฏูโุชุฑู</option>
                    </select>
                </div>

                <div class="stats">
                    <span id="totalCount">0 ุชุตูุฑ</span>
                </div>
            </section>

            <!-- Loading -->
            <div class="loading" id="loading">
                <div class="loading-spinner"></div>
                <p>ุฏุฑ ุญุงู ุจุงุฑฺฏุฐุงุฑ...</p>
            </div>

            <!-- ูพุงู ุฎุงู -->
            <div class="empty-state" id="emptyState" style="display: none;">
                <div class="empty-icon">๐ญ</div>
                <h2>ูููุฒ ุชุตูุฑ ุชููุฏ ูฺฉุฑุฏูโุงุฏ</h2>
                <p>ุจุฑุง ุดุฑูุนุ ุจู ุตูุญู ุงุตู ุจุฑูุฏ ู ุงููู ุชุตูุฑ ุฎูุฏ ุฑุง ุจุณุงุฒุฏ!</p>
                <a href="/" class="create-btn">ุณุงุฎุช ุชุตูุฑ ุฌุฏุฏ</a>
            </div>

            <!-- Grid ุชุตุงูุฑ -->
            <div class="gallery-grid" id="galleryGrid">
                <!-- ุชุตุงูุฑ ุจู ุตูุฑุช ูพูุง ุงุถุงูู ูโุดููุฏ -->
            </div>
        </div>
    </div>

    <!-- Modal ููุงุด ุชุตูุฑ -->
    <div class="modal" id="imageModal" style="display: none;">
        <div class="modal-overlay" onclick="closeModal()"></div>
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal()">โ</button>
            <img id="modalImage" src="" alt="ุชุตูุฑ">
            <div class="modal-info" id="modalInfo">
                <!-- ุงุทูุงุนุงุช ุชุตูุฑ -->
            </div>
            <div class="modal-actions">
                <button onclick="generateInstagramCaption()" class="action-btn caption-btn">
                    โจ ุชููุฏ ฺฉูพุดู ุงูุณุชุงฺฏุฑุงู
                </button>
                <button onclick="downloadImage()" class="action-btn download-btn">
                    ๐ฅ ุฏุงูููุฏ
                </button>
                <button onclick="deleteImage()" class="action-btn delete-btn">
                    ๐๏ธ ุญุฐู
                </button>
            </div>
            <div class="caption-section" id="captionSection" style="display: none;">
                <!-- ูุฑู ุงุทูุงุนุงุช ูุญุตูู -->
                <div class="product-info-form" id="productInfoForm" style="display: none;">
                    <h3>๐ฆ ุงุทูุงุนุงุช ูุญุตูู</h3>
                    <p class="form-hint">ุจุฑุง ุชููุฏ ฺฉูพุดู ุฏููโุชุฑุ ุงุทูุงุนุงุช ูุญุตูู ุฑุง ูุงุฑุฏ ฺฉูุฏ:</p>

                    <div class="form-group">
                        <label>๐ท๏ธ ูุงู ูุญุตูู</label>
                        <input type="text" id="productName" placeholder="ูุซุงู: ุชโุดุฑุช ูุดฺฉ ูู ฺฏุฑุฏ" class="form-input">
                    </div>

                    <div class="form-group">
                        <label>๐จ ุฑูฺฏโูุง ููุฌูุฏ (ุญุฏุงูู ฺฉ ุงูุชุฎุงุจ ฺฉูุฏ)</label>
                        <div class="color-checkboxes">
                            <label class="checkbox-item">
                                <input type="checkbox" name="color" value="ูุดฺฉ">
                                <span class="color-dot" style="background: #000"></span>
                                ูุดฺฉ
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="color" value="ุณูุฏ">
                                <span class="color-dot" style="background: #fff; border: 1px solid #ddd"></span>
                                ุณูุฏ
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="color" value="ุฎุงฺฉุณุชุฑ">
                                <span class="color-dot" style="background: #808080"></span>
                                ุฎุงฺฉุณุชุฑ
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="color" value="ูุฑูุฒ">
                                <span class="color-dot" style="background: #ff0000"></span>
                                ูุฑูุฒ
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="color" value="ุขุจ">
                                <span class="color-dot" style="background: #0066ff"></span>
                                ุขุจ
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="color" value="ุณุจุฒ">
                                <span class="color-dot" style="background: #00cc00"></span>
                                ุณุจุฒ
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="color" value="ุฒุฑุฏ">
                                <span class="color-dot" style="background: #ffd700"></span>
                                ุฒุฑุฏ
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="color" value="ุตูุฑุช">
                                <span class="color-dot" style="background: #ff69b4"></span>
                                ุตูุฑุช
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="color" value="ุจููุด">
                                <span class="color-dot" style="background: #9370db"></span>
                                ุจููุด
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="color" value="ููููโุง">
                                <span class="color-dot" style="background: #8b4513"></span>
                                ููููโุง
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="color" value="ูุงุฑูุฌ">
                                <span class="color-dot" style="background: #ff8c00"></span>
                                ูุงุฑูุฌ
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="color" value="ฺฉุฑู">
                                <span class="color-dot" style="background: #fffdd0"></span>
                                ฺฉุฑู
                            </label>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>๐ ุณุงุฒูุง ููุฌูุฏ (ุญุฏุงูู ฺฉ ุงูุชุฎุงุจ ฺฉูุฏ)</label>
                        <div class="size-checkboxes">
                            <label class="checkbox-item">
                                <input type="checkbox" name="size" value="XS"> XS
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="size" value="S"> S
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="size" value="M"> M
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="size" value="L"> L
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="size" value="XL"> XL
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="size" value="XXL"> XXL
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="size" value="XXXL"> XXXL
                            </label>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label>๐ฐ ููุช (ุชููุงู)</label>
                            <input type="number" id="productPrice" placeholder="ูุซุงู: 250000" class="form-input">
                        </div>

                        <div class="form-group">
                            <label>๐ ุชุฎูู (ุฏุฑุตุฏ)</label>
                            <input type="number" id="productDiscount" placeholder="ูุซุงู: 20" min="0" max="100" class="form-input">
                        </div>
                    </div>

                    <div class="form-group">
                        <label>๐ช ุฏุณุชูโุจูุฏ ูุญุตูู</label>
                        <select id="productCategory" class="form-input">
                            <option value="">ุงูุชุฎุงุจ ฺฉูุฏ...</option>
                            <option value="ุชโุดุฑุช">ุชโุดุฑุช</option>
                            <option value="ุดููุงุฑ">ุดููุงุฑ</option>
                            <option value="ฺฉุช ู ุดููุงุฑ">ฺฉุช ู ุดููุงุฑ</option>
                            <option value="ูพุฑุงูู">ูพุฑุงูู</option>
                            <option value="ูุงูุชู">ูุงูุชู</option>
                            <option value="ฺฉูุด">ฺฉูุด</option>
                            <option value="ฺฉูุงู">ฺฉูุงู</option>
                            <option value="ุงฺฉุณุณูุฑ">ุงฺฉุณุณูุฑ</option>
                            <option value="ฺฉู">ฺฉู</option>
                            <option value="ุณุงุฑ">ุณุงุฑ</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>๐ ุชูุถุญุงุช ุงุถุงู (ุงุฎุชุงุฑ)</label>
                        <textarea id="productDescription" placeholder="ูุซุงู: ุฌูุณ ูพูุจูุ ููุงุณุจ ุจุฑุง ูุตู ุชุงุจุณุชุงู..." class="form-textarea"></textarea>
                    </div>

                    <div class="form-actions">
                        <button onclick="submitProductInfo()" class="caption-btn primary">
                            โจ ุชููุฏ ฺฉูพุดู
                        </button>
                        <button onclick="closeProductForm()" class="caption-btn secondary">
                            ุงูุตุฑุงู
                        </button>
                    </div>
                </div>

                <div class="caption-loading" id="captionLoading" style="display: none;">
                    <div class="loading-spinner"></div>
                    <p>ุฏุฑ ุญุงู ุชููุฏ ฺฉูพุดู...</p>
                </div>
                <div class="caption-result" id="captionResult" style="display: none;">
                    <h3>๐ฑ ฺฉูพุดู ุงูุณุชุงฺฏุฑุงู</h3>
                    <div class="caption-text" id="captionText"></div>
                    <div class="caption-actions">
                        <button onclick="copyCaption()" class="caption-btn">
                            ๐ ฺฉูพ ฺฉุฑุฏู
                        </button>
                        <button onclick="shareToInstagram()" class="caption-btn">
                            ๐ค ุงุดุชุฑุงฺฉโฺฏุฐุงุฑ
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="gallery-script.js"></script>
</body>
</html>
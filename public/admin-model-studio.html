<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>ุงุณุชูุฏู ุชููุฏ ูุฏู | ูุฏุฑุช</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/admin-style.css">
    <style>
        .studio-container {
            max-width: 1400px;
            margin: 0 auto;
        }
        .studio-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 3px;
            border-radius: 15px;
            margin-bottom: 30px;
        }
        .studio-card-inner {
            background: white;
            padding: 30px;
            border-radius: 13px;
        }
        .studio-section {
            margin-bottom: 20px;
            background: #f8f9ff;
            padding: 20px;
            border-radius: 12px;
        }
        .studio-section summary {
            font-weight: 700;
            font-size: 16px;
            cursor: pointer;
            padding: 5px;
            margin-bottom: 15px;
        }
        .param-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-top: 15px;
        }
        @media (max-width: 1024px) {
            .param-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        @media (max-width: 640px) {
            .param-grid {
                grid-template-columns: 1fr;
            }
        }
        .form-group label {
            display: block;
            font-weight: 600;
            margin-bottom: 6px;
            color: #374151;
            font-size: 14px;
        }
        .form-group select,
        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 10px 12px;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            font-size: 14px;
            font-family: 'Inter', sans-serif;
            transition: all 0.2s;
        }
        .form-group select:focus,
        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        .btn-generate {
            width: 100%;
            padding: 18px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 17px;
            font-weight: 700;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .btn-generate:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);
        }
        .btn-generate:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }
        .preview-container {
            background: #f8f9ff;
            padding: 25px;
            border-radius: 15px;
            border: 3px solid #667eea;
        }
        .preview-image {
            width: 100%;
            max-width: 600px;
            border-radius: 12px;
            display: block;
            margin: 0 auto 20px;
        }
    </style>
</head>
<body>
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="logo">
                <svg width="40" height="40" viewBox="0 0 40 40" fill="none">
                    <circle cx="20" cy="20" r="18" fill="white" opacity="0.2"/>
                </svg>
                <span>Admin Panel</span>
            </div>
        </div>
        <div class="sidebar-nav-container" data-active-page="model-studio"></div>
        <div class="sidebar-footer">
            <button class="btn-logout" onclick="handleLogout()"><span>Logout</span></button>
        </div>
    </aside>

    <main class="main-content">
        <header class="page-header">
            <div>
                <h1>๐จ ุงุณุชูุฏู ุญุฑููโุง ุชููุฏ ูุฏู</h1>
                <p>ุณุงุฎุช ูุฏูโูุง ุณูุงุฑุด ุจุง ฺฉูุชุฑูโูุง ุฏูู ุธุงูุฑ</p>
            </div>
        </header>

        <div class="studio-container">
            <!-- User Selection -->
            <div class="content-section">
                <h2>ุงูุชุฎุงุจ ฺฉุงุฑุจุฑ</h2>
                <select id="selectedUser" onchange="handleUserSelect()" class="form-control" style="font-size: 15px; padding: 12px;">
                    <option value="">-- ฺฉุงุฑุจุฑ ุฑุง ุจุฑุง ุณุงุฎุช ูุฏู ุงูุชุฎุงุจ ฺฉูุฏ --</option>
                </select>
            </div>

            <!-- Upload Model Photo Section -->
            <div class="studio-card" style="background: linear-gradient(135deg, #10b981 0%, #059669 100%);">
                <div class="studio-card-inner">
                    <h2 style="margin-bottom: 20px; color: #047857;">๐ค ุขูพููุฏ ุนฺฉุณ ูุฏู (ุงุฎุชุงุฑ)</h2>
                    <p style="color: #065f46; margin-bottom: 20px; font-size: 15px;">
                        โ๏ธ ุงฺฏุฑ ุนฺฉุณ ุฎุงุต ุฏุงุฑุฏ ฺฉู ูโุฎูุงูุฏ ุจู ุนููุงู ูุฏู ุงุณุชูุงุฏู ฺฉูุฏุ ูโุชูุงูุฏ ุงูุฌุง ุขูพููุฏ ฺฉูุฏ.
                        <br>ุฏุฑ ุบุฑ ุงู ุตูุฑุชุ ูุฏู ุจุง ุชูุธูุงุช ุฒุฑ ุงุฒ ุตูุฑ ุณุงุฎุชู ูโุดูุฏ.
                    </p>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; align-items: start;">
                        <div>
                            <label style="display: block; font-weight: 600; margin-bottom: 10px; color: #047857;">
                                ุงูุชุฎุงุจ ุนฺฉุณ ูุฏู:
                            </label>
                            <input type="file" id="modelPhotoUpload" accept="image/*"
                                   style="width: 100%; padding: 12px; border: 2px dashed #10b981; border-radius: 8px; background: #f0fdf4; cursor: pointer; font-size: 14px;">
                            <small style="color: #065f46; display: block; margin-top: 8px;">
                                ๐ก ูุฑูุชโูุง ูุฌุงุฒ: JPG, PNG, WEBP (ุญุฏุงฺฉุซุฑ 10MB)
                            </small>
                        </div>

                        <div id="uploadedModelPreview" style="display: none; text-align: center;">
                            <img id="uploadedModelImage" src="" alt="Uploaded Model"
                                 style="max-width: 100%; max-height: 300px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); margin-bottom: 10px;">
                            <button onclick="clearUploadedModel()"
                                    style="background: #dc2626; color: white; padding: 8px 16px; border: none; border-radius: 8px; cursor: pointer; font-size: 14px; font-weight: 600;">
                                โ ุญุฐู ุนฺฉุณ
                            </button>
                        </div>
                    </div>

                    <div style="margin-top: 20px; padding: 15px; background: #fef3c7; border-radius: 8px; border-left: 4px solid #f59e0b;">
                        <p style="color: #92400e; font-size: 14px; margin: 0;">
                            <strong>โ๏ธ ุชูุฌู:</strong> ุจุง ุขูพููุฏ ุนฺฉุณุ ููู ุชูุธูุงุช ูพุงู (ุตูุฑุชุ ููุ ุจุฏู ู...) ูุงุฏุฏู ฺฏุฑูุชู ูโุดูุฏ
                            ู ูุฏู ุงุฒ ููู ุนฺฉุณ ุงุณุชูุงุฏู ูโฺฉูุฏ. ููุท ุชูุธูุงุช ฺุณุชุ ููุฑูพุฑุฏุงุฒ ู ูพุณโุฒููู ุงุนูุงู ุฎูุงูุฏ ุดุฏ.
                        </p>
                    </div>

                    <div style="margin-top: 20px;">
                        <label style="display: block; font-weight: 600; margin-bottom: 8px; color: #047857;">
                            ุฏุณุชูโุจูุฏ ูุฏู ุขูพููุฏ ุดุฏู:
                        </label>
                        <select id="uploadedModelCategory" style="width: 100%; padding: 12px; border: 2px solid #10b981; border-radius: 8px; font-size: 14px;">
                            <option value="woman">๐ฉ ุฒู (Woman)</option>
                            <option value="man">๐จ ูุฑุฏ (Man)</option>
                            <option value="girl">๐ง ุฏุฎุชุฑ (Girl)</option>
                            <option value="boy">๐ฆ ูพุณุฑ (Boy)</option>
                            <option value="child">๐ถ ฺฉูุฏฺฉ (Child)</option>
                            <option value="couple">๐ ุฒูุฌ (Couple)</option>
                            <option value="group">๐ฅ ฺฏุฑูู (Group)</option>
                            <option value="elderly">๐ด ุณุงูููุฏ (Elderly)</option>
                            <option value="teen">๐ง ููุฌูุงู (Teen)</option>
                            <option value="plus-size">โ ุณุงุฒ ุจุฒุฑฺฏ (Plus Size)</option>
                            <option value="accessory">๐ ุงฺฉุณุณูุฑ (Accessory)</option>
                            <option value="underwear">๐ ูุจุงุณ ุฒุฑ (Underwear)</option>
                        </select>
                        <small style="color: #065f46; display: block; margin-top: 8px;">
                            ๐ก ุฏุณุชูโุจูุฏ ฺฉูฺฉ ูโฺฉูุฏ ุชุง ูุฏู ุฏุฑ ุจุฎุด ููุงุณุจ ุฐุฎุฑู ุดูุฏ
                        </small>
                    </div>
                </div>
            </div>

            <!-- Model Studio -->
            <div class="studio-card">
                <div class="studio-card-inner">

                    <!-- Basic Info -->
                    <details open class="studio-section" style="background: #f0f9ff;">
                        <summary style="color: #0369a1;">๐ ุงุทูุงุนุงุช ูพุงู</summary>
                        <div class="param-grid">
                            <div class="form-group">
                                <label>ุฌูุณุช</label>
                                <select id="modelGender">
                                    <option value="female">๐ฉ ุฒู</option>
                                    <option value="male">๐จ ูุฑุฏ</option>
                                    <option value="non-binary">โง ุบุฑ ุฏูุฌูุณุช</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>ุณู ุฏูู (3-80 ุณุงู)</label>
                                <input type="number" id="modelAge" min="3" max="80" value="25" placeholder="ูุซุงู: 25">
                            </div>
                            <div class="form-group">
                                <label>ูููุช</label>
                                <select id="modelEthnicity">
                                    <option value="iranian" selected>๐ฎ๐ท ุงุฑุงู (Iranian)</option>
                                    <option value="turkmen">๐น๐ฒ ุชุฑฺฉูู (Turkmen)</option>
                                    <option value="tajik">๐น๐ฏ ุชุงุฌฺฉ (Tajik)</option>
                                    <option value="iraqi">๐ฎ๐ถ ุนุฑุงู (Iraqi)</option>
                                    <option value="arab">๐ธ๐ฆ ุนุฑุจ (Arab)</option>
                                    <option value="afghan">๐ฆ๐ซ ุงูุบุงู (Afghan)</option>
                                    <option value="kurdish">ฺฉูุฑุฏ (Kurdish)</option>
                                    <option value="azari">ุขุฐุฑ (Azari)</option>
                                    <option value="balochi">ุจููฺ (Balochi)</option>
                                    <option value="african">๐ ุขูุฑูุง (African)</option>
                                    <option value="middle-east">๐ ุฎุงูุฑูุงููโุง (Middle East)</option>
                                    <option value="korean">๐ฐ๐ท ฺฉุฑูโุง (Korean)</option>
                                    <option value="mixed">๐ ุชุฑฺฉุจ (Mixed)</option>
                                    <option value="caucasian">ูููุงุฒ (Caucasian)</option>
                                    <option value="russian">๐ท๐บ ุฑูุณ (Russian)</option>
                                </select>
                            </div>
                        </div>
                    </details>

                    <!-- Face Features -->
                    <details open class="studio-section" style="background: #fff5f5;">
                        <summary style="color: #e53e3e;">๐ ูฺฺฏโูุง ุตูุฑุช</summary>
                        <div class="param-grid">
                            <div class="form-group">
                                <label>ุดฺฉู ุตูุฑุช</label>
                                <select id="faceShape">
                                    <option value="oval" selected>ุจุถ</option>
                                    <option value="round">ฺฏุฑุฏ</option>
                                    <option value="square">ูุฑุจุน</option>
                                    <option value="heart">ููุจ</option>
                                    <option value="diamond">ุงููุงุณ</option>
                                    <option value="long">ุฏุฑุงุฒ</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>ุฑูฺฏ ฺุดู</label>
                                <select id="eyeColor">
                                    <option value="brown">ููููโุง</option>
                                    <option value="blue">ุขุจ</option>
                                    <option value="green">ุณุจุฒ</option>
                                    <option value="hazel">ุนุณู</option>
                                    <option value="gray">ุฎุงฺฉุณุชุฑ</option>
                                    <option value="amber">ฺฉูุฑุจุง</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>ุดฺฉู ฺุดู</label>
                                <select id="eyeShape">
                                    <option value="almond" selected>ุจุงุฏุงู</option>
                                    <option value="round">ฺฏุฑุฏ</option>
                                    <option value="hooded">ูพูุดุฏู</option>
                                    <option value="upturned">ฺฏูุดู ุจุงูุง</option>
                                    <option value="downturned">ฺฏูุดู ูพุงู</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>ุงุจุฑู</label>
                                <select id="eyebrows">
                                    <option value="natural">ุทุจุน</option>
                                    <option value="thick">ุถุฎู</option>
                                    <option value="thin">ูุงุฒฺฉ</option>
                                    <option value="arched">ฺฉูุงู</option>
                                    <option value="straight">ูุณุชูู</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>ููุน ุจู</label>
                                <select id="noseType">
                                    <option value="straight">ูุณุชูู</option>
                                    <option value="button">ุฏฺฉููโุง</option>
                                    <option value="roman">ุฑูู</option>
                                    <option value="greek">ููุงู</option>
                                    <option value="upturned">ุจุงูุง ุฑูุชู</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>ูพุฑ ูุจ</label>
                                <select id="lipFullness">
                                    <option value="thin">ูุงุฒฺฉ</option>
                                    <option value="medium" selected>ูุชูุณุท</option>
                                    <option value="full">ูพุฑ</option>
                                    <option value="very-full">ุฎู ูพุฑ</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>ุงุณุชุฎูุงู ฺฏููู</label>
                                <select id="cheekbones">
                                    <option value="subtle">ููุงู</option>
                                    <option value="defined" selected>ูุดุฎุต</option>
                                    <option value="high">ุจุฑุฌุณุชู ู ุจุงูุง</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>ุฎุท ูฺฉ</label>
                                <select id="jawline">
                                    <option value="soft">ูุฑู</option>
                                    <option value="defined" selected>ูุดุฎุต</option>
                                    <option value="sharp">ุชุฒ</option>
                                    <option value="square">ูุฑุจุน</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>ฺุงูู</label>
                                <select id="chin">
                                    <option value="rounded">ฺฏุฑุฏ</option>
                                    <option value="pointed">ููฺฉ ุชุฒ</option>
                                    <option value="square">ูุฑุจุน</option>
                                    <option value="cleft">ุดฺฉุงู ุฏุงุฑ</option>
                                </select>
                            </div>
                        </div>
                    </details>

                    <!-- Hair Style -->
                    <details open class="studio-section" style="background: #fffbeb;">
                        <summary style="color: #d97706;">๐ ูู ู ุงุณุชุงู</summary>
                        <div class="param-grid">
                            <div class="form-group">
                                <label>ุฑูฺฏ ูู</label>
                                <select id="hairColor">
                                    <option value="black">ูุดฺฉ</option>
                                    <option value="dark-brown">ููููโุง ุชุฑู</option>
                                    <option value="light-brown">ููููโุง ุฑูุดู</option>
                                    <option value="blonde">ุจูููุฏ</option>
                                    <option value="platinum">ุจูููุฏ ูพูุงุชู</option>
                                    <option value="red">ูุฑูุฒ</option>
                                    <option value="auburn">ูุฑูุฒ ูุงู ุจู ููููโุง</option>
                                    <option value="gray">ุฎุงฺฉุณุชุฑ</option>
                                    <option value="white">ุณูุฏ</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>ุทูู ูู</label>
                                <select id="hairLength">
                                    <option value="bald">ุจุฏูู ูู</option>
                                    <option value="very-short">ุฎู ฺฉูุชุงู</option>
                                    <option value="short">ฺฉูุชุงู</option>
                                    <option value="medium">ูุชูุณุท</option>
                                    <option value="long" selected>ุจููุฏ</option>
                                    <option value="very-long">ุฎู ุจููุฏ</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>ุจุงูุช ูู</label>
                                <select id="hairTexture">
                                    <option value="straight" selected>ุตุงู</option>
                                    <option value="wavy">ููุฌ ุฏุงุฑ</option>
                                    <option value="curly">ูุฑ</option>
                                    <option value="coily">ูุฑ ูพฺุฏู</option>
                                    <option value="kinky">ูุฑ ุฎู ุฑุฒ</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>ูุฏู ูู</label>
                                <select id="hairstyle">
                                    <option value="loose" selected>ุขุฒุงุฏ ู ุทุจุน</option>
                                    <option value="ponytail">ุฏู ุงุณุจ</option>
                                    <option value="bun">ฺฏูุฌู</option>
                                    <option value="braids">ุจุงูุชู</option>
                                    <option value="updo">ุดููู</option>
                                    <option value="bob">ฺฉูุชุงู ุจุงุจ</option>
                                    <option value="pixie">ฺฉูุชุงู ูพฺฉุณ</option>
                                    <option value="slicked-back">ฺุณุจุฏู ุจู ุนูุจ</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>ูู ุตูุฑุช (ูุฑุฏุงูู)</label>
                                <select id="facialHair">
                                    <option value="none" selected>ูุฏุงุฑุฏ</option>
                                    <option value="stubble">ุชู ุฑุด ุณุจฺฉ</option>
                                    <option value="beard">ุฑุด ฺฉุงูู</option>
                                    <option value="goatee">ุฑุด ุจุฒ</option>
                                    <option value="mustache">ุณุจู</option>
                                </select>
                            </div>
                        </div>
                    </details>

                    <!-- Skin & Body -->
                    <details open class="studio-section" style="background: #f0fdf4;">
                        <summary style="color: #16a34a;">๐จ ูพูุณุช ู ููุน ุจุฏู</summary>
                        <div class="param-grid">
                            <div class="form-group">
                                <label>ุฑูฺฏ ูพูุณุช</label>
                                <select id="skinTone">
                                    <option value="porcelain">ฺู (Porcelain) - ุจุณุงุฑ ุจุณุงุฑ ุฑูุดู</option>
                                    <option value="ivory">ุนุงุฌ (Ivory) - ุจุณุงุฑ ุฑูุดู ุจุง ููุณ ฺฏุฑู</option>
                                    <option value="very-fair">ุจุณุงุฑ ุฑูุดู (Very Fair)</option>
                                    <option value="fair">ุฑูุดู (Fair)</option>
                                    <option value="light">ุฑูุดู ููุงู (Light)</option>
                                    <option value="light-medium">ุฑูุดู ุชุง ูุชูุณุท (Light Medium)</option>
                                    <option value="medium" selected>ูุชูุณุท (Medium)</option>
                                    <option value="medium-tan">ูุชูุณุท ุจุฑูุฒู (Medium Tan)</option>
                                    <option value="olive">ุฒุชูู (Olive)</option>
                                    <option value="tan">ุจุฑูุฒู (Tan)</option>
                                    <option value="golden-tan">ุจุฑูุฒู ุทูุง (Golden Tan)</option>
                                    <option value="caramel">ฺฉุงุฑุงูู (Caramel)</option>
                                    <option value="honey">ุนุณู (Honey)</option>
                                    <option value="bronze">ุจุฑูุฒ (Bronze)</option>
                                    <option value="brown">ููููโุง (Brown)</option>
                                    <option value="dark-brown">ููููโุง ุชุฑู (Dark Brown)</option>
                                    <option value="deep-brown">ููููโุง ุนูู (Deep Brown)</option>
                                    <option value="chocolate">ุดฺฉูุงุช (Chocolate)</option>
                                    <option value="mahogany">ูุงููู (Mahogany)</option>
                                    <option value="ebony">ุขุจููุณ (Ebony)</option>
                                    <option value="deep">ุชุฑู (Deep)</option>
                                </select>
                            </div>
                            <div class="form-group" style="grid-column: 1 / -1;">
                                <label>ุจุงูุช ูพูุณุช (ูโุชูุงูุฏ ฺูุฏ ููุฑุฏ ุงูุชุฎุงุจ ฺฉูุฏ)</label>
                                <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 8px; padding: 10px; background: white; border-radius: 8px;">
                                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                        <input type="checkbox" class="skin-texture-checkbox" value="smooth" checked> ุตุงู ู ุจโุนุจ (Smooth)
                                    </label>
                                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                        <input type="checkbox" class="skin-texture-checkbox" value="natural"> ุทุจุน (Natural)
                                    </label>
                                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                        <input type="checkbox" class="skin-texture-checkbox" value="flawless"> ุจโููุต (Flawless)
                                    </label>
                                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                        <input type="checkbox" class="skin-texture-checkbox" value="glowing"> ุฏุฑุฎุดุงู (Glowing)
                                    </label>
                                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                        <input type="checkbox" class="skin-texture-checkbox" value="matte"> ูุงุช (Matte)
                                    </label>
                                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                        <input type="checkbox" class="skin-texture-checkbox" value="dewy"> ุดุจููโุฏุงุฑ (Dewy)
                                    </label>
                                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                        <input type="checkbox" class="skin-texture-checkbox" value="radiant"> ุชุงุจุงู (Radiant)
                                    </label>
                                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                        <input type="checkbox" class="skin-texture-checkbox" value="freckled"> ฺฉฺฉ ู ูฺฉ ุฏุงุฑ (Freckled)
                                    </label>
                                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                        <input type="checkbox" class="skin-texture-checkbox" value="with-beauty-marks"> ุจุง ุฎุงู ุฒุจุง (Beauty Marks)
                                    </label>
                                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                        <input type="checkbox" class="skin-texture-checkbox" value="dimpled"> ฺุงูโุฏุงุฑ (Dimpled)
                                    </label>
                                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                        <input type="checkbox" class="skin-texture-checkbox" value="textured"> ุจุงูุชโุฏุงุฑ (Textured)
                                    </label>
                                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                        <input type="checkbox" class="skin-texture-checkbox" value="porous"> ูููุฐุฏุงุฑ (Porous)
                                    </label>
                                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                        <input type="checkbox" class="skin-texture-checkbox" value="velvety"> ูุฎูู (Velvety)
                                    </label>
                                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                        <input type="checkbox" class="skin-texture-checkbox" value="silky"> ุงุจุฑุดู (Silky)
                                    </label>
                                </div>
                            </div>
                            <div class="form-group" style="grid-column: 1 / -1;">
                                <label>ููุน ุจุฏู (ูโุชูุงูุฏ ฺูุฏ ููุฑุฏ ุงูุชุฎุงุจ ฺฉูุฏ)</label>
                                <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 8px; padding: 10px; background: white; border-radius: 8px;">
                                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                        <input type="checkbox" class="body-type-checkbox" value="petite"> ุฑุฒููุด (Petite)
                                    </label>
                                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                        <input type="checkbox" class="body-type-checkbox" value="slim"> ูุงุบุฑ (Slim)
                                    </label>
                                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                        <input type="checkbox" class="body-type-checkbox" value="slender"> ุจุงุฑฺฉ (Slender)
                                    </label>
                                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                        <input type="checkbox" class="body-type-checkbox" value="lean"> ูุงุบุฑ ุงูุฏุงู (Lean)
                                    </label>
                                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                        <input type="checkbox" class="body-type-checkbox" value="athletic" checked> ูุฑุฒุดฺฉุงุฑ (Athletic)
                                    </label>
                                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                        <input type="checkbox" class="body-type-checkbox" value="toned"> ุชูุงุณุจ ุงูุฏุงู (Toned)
                                    </label>
                                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                        <input type="checkbox" class="body-type-checkbox" value="fit"> ุขูุงุฏู (Fit)
                                    </label>
                                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                        <input type="checkbox" class="body-type-checkbox" value="muscular"> ุนุถูุงู (Muscular)
                                    </label>
                                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                        <input type="checkbox" class="body-type-checkbox" value="bodybuilder"> ุจุฏูุณุงุฒ (Bodybuilder)
                                    </label>
                                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                        <input type="checkbox" class="body-type-checkbox" value="average"> ูุชูุณุท (Average)
                                    </label>
                                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                        <input type="checkbox" class="body-type-checkbox" value="curvy"> ุฎูุด ุงูุฏุงู (Curvy)
                                    </label>
                                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                        <input type="checkbox" class="body-type-checkbox" value="hourglass"> ุณุงุนุช ุดู (Hourglass)
                                    </label>
                                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                        <input type="checkbox" class="body-type-checkbox" value="pear-shaped"> ฺฏูุงุจ (Pear-shaped)
                                    </label>
                                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                        <input type="checkbox" class="body-type-checkbox" value="apple-shaped"> ุณุจ (Apple-shaped)
                                    </label>
                                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                        <input type="checkbox" class="body-type-checkbox" value="rectangular"> ูุณุชุทู (Rectangular)
                                    </label>
                                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                        <input type="checkbox" class="body-type-checkbox" value="voluptuous"> ุจุฑูููุฏ (Voluptuous)
                                    </label>
                                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                        <input type="checkbox" class="body-type-checkbox" value="plus-size"> ุณุงุฒ ุจุฒุฑฺฏ (Plus-size)
                                    </label>
                                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                        <input type="checkbox" class="body-type-checkbox" value="full-figured"> ูพุฑุงูุฏุงู (Full-figured)
                                    </label>
                                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                        <input type="checkbox" class="body-type-checkbox" value="stocky"> ุชููููุฏ (Stocky)
                                    </label>
                                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                        <input type="checkbox" class="body-type-checkbox" value="broad-shouldered"> ุดุงููโูพูู (Broad-shouldered)
                                    </label>
                                </div>
                            </div>
                            <div class="form-group">
                                <label>ูุฏ</label>
                                <select id="height">
                                    <option value="very-short">ุฎู ฺฉูุชุงู (ุฒุฑ 150 ุณุงูุช)</option>
                                    <option value="short">ฺฉูุชุงู (150-160 ุณุงูุช)</option>
                                    <option value="petite">ฺฉูุชุงู ูุชูุณุท (160-165 ุณุงูุช)</option>
                                    <option value="below-average">ฺฉูุชุฑ ุงุฒ ูุชูุณุท (165-170 ุณุงูุช)</option>
                                    <option value="average" selected>ูุชูุณุท (170-175 ุณุงูุช)</option>
                                    <option value="above-average">ุจุงูุงุชุฑ ุงุฒ ูุชูุณุท (175-180 ุณุงูุช)</option>
                                    <option value="tall">ุจููุฏ (180-185 ุณุงูุช)</option>
                                    <option value="very-tall">ุฎู ุจููุฏ (185-190 ุณุงูุช)</option>
                                    <option value="extremely-tall">ุจููุฏูุฏ (ุจุงูุง 190 ุณุงูุช)</option>
                                </select>
                            </div>
                        </div>
                    </details>

                    <!-- Expression & Pose -->
                    <details open class="studio-section" style="background: #fef2f2;">
                        <summary style="color: #dc2626;">๐ ุญุงูุช ู ฺุณุช</summary>
                        <div class="param-grid">
                            <div class="form-group">
                                <label>ุญุงูุช ฺูุฑู</label>
                                <select id="expression">
                                    <option value="neutral-confident" selected>ุฎูุซ ู ุจุง ุงุนุชูุงุฏ ุจู ููุณ</option>
                                    <option value="smiling">ูุจุฎูุฏ</option>
                                    <option value="laughing">ุฎูุฏุงู</option>
                                    <option value="serious">ุฌุฏ</option>
                                    <option value="mysterious">ูุฑููุฒ</option>
                                    <option value="seductive">ูุฑุจูุฏู</option>
                                    <option value="friendly">ุฏูุณุชุงูู</option>
                                    <option value="fierce">ูุงุทุน</option>
                                </select>
                            </div>
                            <div class="form-group" style="grid-column: span 2;">
                                <label>ฺุณุชโูุง (ูโุชูุงูุฏ ฺูุฏุชุง ุงูุชุฎุงุจ ฺฉูุฏ)</label>
                                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; margin-top: 10px; max-height: 200px; overflow-y: auto; padding: 10px; border: 2px solid #e5e7eb; border-radius: 8px;">
                                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 8px; background: #f9fafb; border-radius: 6px;">
                                        <input type="checkbox" class="pose-checkbox" value="standing-front" checked style="width: 18px; height: 18px; cursor: pointer;">
                                        <span style="font-size: 14px;">ุงุณุชุงุฏู ุฑู ุจู ุฌูู</span>
                                    </label>
                                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 8px; background: #f9fafb; border-radius: 6px;">
                                        <input type="checkbox" class="pose-checkbox" value="standing-side" style="width: 18px; height: 18px; cursor: pointer;">
                                        <span style="font-size: 14px;">ุงุณุชุงุฏู ููุฑุฎ</span>
                                    </label>
                                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 8px; background: #f9fafb; border-radius: 6px;">
                                        <input type="checkbox" class="pose-checkbox" value="walking" style="width: 18px; height: 18px; cursor: pointer;">
                                        <span style="font-size: 14px;">ุฏุฑ ุญุงู ุฑุงู ุฑูุชู</span>
                                    </label>
                                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 8px; background: #f9fafb; border-radius: 6px;">
                                        <input type="checkbox" class="pose-checkbox" value="sitting" style="width: 18px; height: 18px; cursor: pointer;">
                                        <span style="font-size: 14px;">ูุดุณุชู</span>
                                    </label>
                                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 8px; background: #f9fafb; border-radius: 6px;">
                                        <input type="checkbox" class="pose-checkbox" value="leaning" style="width: 18px; height: 18px; cursor: pointer;">
                                        <span style="font-size: 14px;">ุชฺฉู ุฏุงุฏู</span>
                                    </label>
                                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 8px; background: #f9fafb; border-radius: 6px;">
                                        <input type="checkbox" class="pose-checkbox" value="hands-on-hips" style="width: 18px; height: 18px; cursor: pointer;">
                                        <span style="font-size: 14px;">ุฏุณุช ุจู ฺฉูุฑ</span>
                                    </label>
                                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 8px; background: #f9fafb; border-radius: 6px;">
                                        <input type="checkbox" class="pose-checkbox" value="crossed-arms" style="width: 18px; height: 18px; cursor: pointer;">
                                        <span style="font-size: 14px;">ุฏุณุช ุจู ุณูู</span>
                                    </label>
                                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 8px; background: #f9fafb; border-radius: 6px;">
                                        <input type="checkbox" class="pose-checkbox" value="dynamic" style="width: 18px; height: 18px; cursor: pointer;">
                                        <span style="font-size: 14px;">ฺุณุช ูพูุง</span>
                                    </label>
                                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 8px; background: #f9fafb; border-radius: 6px;">
                                        <input type="checkbox" class="pose-checkbox" value="one-leg-bent" style="width: 18px; height: 18px; cursor: pointer;">
                                        <span style="font-size: 14px;">ฺฉ ูพุง ุฎู</span>
                                    </label>
                                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 8px; background: #f9fafb; border-radius: 6px;">
                                        <input type="checkbox" class="pose-checkbox" value="looking-back" style="width: 18px; height: 18px; cursor: pointer;">
                                        <span style="font-size: 14px;">ูฺฏุงู ุจู ุนูุจ</span>
                                    </label>
                                </div>
                                <small style="color: #6b7280; display: block; margin-top: 8px;">
                                    ๐ก ูโุชูุงูุฏ ฺูุฏู ฺุณุช ุฑุง ุชุฑฺฉุจ ฺฉูุฏ. ูุซูุงู "ุงุณุชุงุฏู ุฑู ุจู ุฌูู" + "ุฏุณุช ุจู ฺฉูุฑ"
                                </small>
                            </div>
                            <div class="form-group">
                                <label>ุฒุงูู ุณุฑ</label>
                                <select id="headAngle">
                                    <option value="straight" selected>ูุณุชูู</option>
                                    <option value="tilted-left">ฺฉุฌ ุจู ฺูพ</option>
                                    <option value="tilted-right">ฺฉุฌ ุจู ุฑุงุณุช</option>
                                    <option value="looking-up">ูฺฏุงู ุจู ุจุงูุง</option>
                                    <option value="looking-down">ูฺฏุงู ุจู ูพุงู</option>
                                </select>
                            </div>
                        </div>
                    </details>

                    <!-- Photography Settings -->
                    <details open class="studio-section" style="background: #ede9fe;">
                        <summary style="color: #7c3aed;">๐ธ ุนฺฉุงุณ ู ููุฑูพุฑุฏุงุฒ</summary>
                        <div class="param-grid">
                            <div class="form-group">
                                <label>ุฒุงูู ุฏูุฑุจู</label>
                                <select id="cameraAngle">
                                    <option value="eye-level" selected>ุณุทุญ ฺุดู</option>
                                    <option value="slightly-above">ฺฉู ุจุงูุงุชุฑ</option>
                                    <option value="slightly-below">ฺฉู ูพุงูโุชุฑ</option>
                                    <option value="high-angle">ุฒุงูู ุจุงูุง</option>
                                    <option value="low-angle">ุฒุงูู ูพุงู</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>ููุน ููุง</label>
                                <select id="shotType">
                                    <option value="full-body" selected>ุชูุงู ูุฏ</option>
                                    <option value="three-quarter">ุณู ฺูุงุฑู</option>
                                    <option value="waist-up">ููโุชูู</option>
                                    <option value="headshot">ุณุฑ ู ุดุงูู</option>
                                    <option value="close-up">ููุง ูุฒุฏฺฉ ฺูุฑู</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>๐ฏ ููุน ูุฑููฺฏ ุนฺฉุณ ูุฏู (ุจุฑุง ุณูุงู ุงุฒ ฺฉุงุฑุจุฑ)</label>
                                <select id="modelFramingType">
                                    <option value="full-length" selected>๐ ุชูุงู ูุฏ (Full Length)</option>
                                    <option value="upper-half">โฌ๏ธ ููโุชูู ุจุงูุง (Upper Half)</option>
                                    <option value="lower-half">โฌ๏ธ ููโุชูู ูพุงู (Lower Half)</option>
                                    <option value="neck-up">๐ฃ๏ธ ฺฏุฑุฏู ุจู ุจุงูุง (Neck Up)</option>
                                </select>
                                <small style="color: #6b7280; display: block; margin-top: 8px;">
                                    ๐ก ุงู ฺฏุฒูู ูุดุฎุต ูโฺฉูุฏ ูุฏู ุจู ฺู ุดฺฉู ุจุงุฏ ุจุงุดุฏ: ุชูุงู ุจุฏู / ููุท ุจุงูุงุชูู / ููุท ูพุงู ุชูู / ููุท ุณุฑ ู ฺฏุฑุฏู
                                </small>
                            </div>
                            <div class="form-group">
                                <label>ููุฑูพุฑุฏุงุฒ</label>
                                <select id="lighting">
                                    <option value="studio" selected>ููุฑ ุงุณุชูุฏู</option>
                                    <option value="natural">ููุฑ ุทุจุน</option>
                                    <option value="soft">ููุฑ ููุงู</option>
                                    <option value="dramatic">ุฏุฑุงูุงุชฺฉ</option>
                                    <option value="backlit">ููุฑ ูพุดุช</option>
                                    <option value="golden-hour">ุณุงุนุช ุทูุง</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>ุณุจฺฉ ูพุณโุฒููู</label>
                                <select id="bgStyle">
                                    <option value="white" selected>ุงุณุชูุฏู ุณูุฏ</option>
                                    <option value="gray">ุงุณุชูุฏู ุฎุงฺฉุณุชุฑ</option>
                                    <option value="black">ุงุณุชูุฏู ุณุงู</option>
                                    <option value="gradient">ฺฏุฑุงุฏุงูุช</option>
                                    <option value="bokeh">ุจูฺฉู/ุชุงุฑ</option>
                                    <option value="outdoor">ูุถุง ุจุงุฒ ุทุจุน</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>ฺฉูุช ุชุตูุฑ</label>
                                <select id="imageQuality">
                                    <option value="professional" selected>ูุฏ ุญุฑููโุง</option>
                                    <option value="editorial">ูุฌูู ุงุฏุชูุฑุงู</option>
                                    <option value="commercial">ุชุจูุบุงุช</option>
                                    <option value="artistic">ููุฑ</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>ูุณุจุช ุชุตูุฑ</label>
                                <select id="aspectRatio">
                                    <option value="1:1">ูุฑุจุน (1:1)</option>
                                    <option value="3:4" selected>ูพุฑุชุฑู (3:4)</option>
                                    <option value="4:3">ุงูู (4:3)</option>
                                    <option value="16:9">ุนุฑุถ (16:9)</option>
                                </select>
                            </div>
                        </div>
                    </details>

                    <!-- Accessory Photography Section -->
                    <details class="studio-section" style="background: #fef3c7;">
                        <summary style="color: #d97706;">๐ ุนฺฉุงุณ ุงฺฉุณุณูุฑ (ุจุฑุง ูุฏูโูุง ุงฺฉุณุณูุฑ)</summary>
                        <p style="color: #92400e; margin-bottom: 15px; font-size: 14px;">
                            โ๏ธ ุงู ุจุฎุด ููุท ุจุฑุง ูุฏูโูุง ุงุณุช ฺฉู ูโุฎูุงูุฏ ุจุฑุง ุนฺฉุงุณ ูุญุตููุงุช ุงฺฉุณุณูุฑ ุงุณุชูุงุฏู ฺฉูุฏ.
                            <br>ูโุชูุงูุฏ ุจู ูุฏู ุชูุงู ุจุฏู ุง ุนฺฉุณ ูุฒุฏฺฉ ุงุนุถุง ุจุฏู (ุฏุณุชุ ฺฏุฑุฏูุ ุตูุฑุช) ุงูุชุฎุงุจ ฺฉูุฏ.
                        </p>

                        <div class="form-group" style="margin-bottom: 20px;">
                            <label>ุขุง ุงู ูุฏู ุจุฑุง ุนฺฉุงุณ ุงฺฉุณุณูุฑ ุงุณุชุ</label>
                            <select id="isAccessoryModel">
                                <option value="no">โ ุฎุฑ - ูุฏู ูุนููู</option>
                                <option value="full-body">๐ค ุจูู - ูุฏู ุชูุงู ุจุฏู ุจุฑุง ุงฺฉุณุณูุฑ</option>
                                <option value="body-part">โ ุจูู - ูุฏู ูุฒุฏฺฉ (ุฏุณุชุ ฺฏุฑุฏูุ ุตูุฑุช)</option>
                            </select>
                        </div>

                        <!-- Body Part Type Selection (NEW) -->
                        <div id="bodyPartTypeSection" style="display: none; margin-bottom: 20px;">
                            <div class="form-group">
                                <label>๐ฏ ููุน ูุฏู ูุฒุฏฺฉ (Body Part)</label>
                                <select id="bodyPartType">
                                    <option value="">ุงูุชุฎุงุจ ฺฉูุฏ...</option>
                                    <option value="hand-palm">โ ุฏุณุช - ฺฉู ุฏุณุช (ุจุฑุง ุงูฺฏุดุชุฑุ ุฏุณุชุจูุฏ)</option>
                                    <option value="hand-side">๐ค ุฏุณุช - ููุง ุฌุงูุจ (ุจุฑุง ุงูฺฏุดุชุฑุ ุฏุณุชุจูุฏ)</option>
                                    <option value="wrist">โ ูฺ ุฏุณุช (ุจุฑุง ุณุงุนุชุ ุฏุณุชุจูุฏ)</option>
                                    <option value="neck-chest">๐ ฺฏุฑุฏู ู ุณูู (ุจุฑุง ฺฏุฑุฏูุจูุฏ)</option>
                                    <option value="ear-profile">๐ ูพุฑููุงู ฺฏูุด (ุจุฑุง ฺฏูุดูุงุฑู)</option>
                                    <option value="face-portrait">๐ค ูพุฑุชุฑู ุตูุฑุช (ุจุฑุง ุนูฺฉ)</option>
                                </select>
                                <small style="color: #6b7280; display: block; margin-top: 8px;">
                                    ๐ก ุจุฑุง ุนฺฉุงุณ ุญุฑููโุง ุงฺฉุณุณูุฑุ ูุฏูโูุง ูุฒุฏฺฉ ุจูุชุฑ ุงุฒ ุชูุงู ุจุฏู ูุณุชูุฏ
                                </small>
                            </div>
                        </div>

                        <div id="accessoryClothingSection" style="display: none;">
                            <div class="form-group">
                                <label>ุณุจฺฉ ูุจุงุณ ุจุฑุง ูุฏู ๐จ</label>
                                <select id="accessoryClothingStyle">
                                    <option value="">ุงูุชุฎุงุจ ฺฉูุฏ...</option>
                                    <option value="simple-white-tshirt">ุชโุดุฑุช ุณูุฏ ุณุงุฏู</option>
                                    <option value="black-turtleneck">ูู ุงุณฺฉ ูุดฺฉ</option>
                                    <option value="beige-blazer">ฺฉุช ุจฺ ฺฉูุงุณฺฉ</option>
                                    <option value="gray-sweater">ฺุงฺฉุช ุฎุงฺฉุณุชุฑ ุณุงุฏู</option>
                                    <option value="minimal-dress">ูุจุงุณ ูููุงู ู ุณุงุฏู</option>
                                    <option value="plain-white-shirt">ูพุฑุงูู ุณูุฏ ุณุงุฏู</option>
                                    <option value="navy-cardigan">ฺฉุงุฑุฏฺฏุงู ุณุฑููโุง</option>
                                    <option value="cream-blouse">ุจููุฒ ฺฉุฑู ุฑูฺฏ</option>
                                    <option value="black-v-neck">ุชโุดุฑุช ูู V ูุดฺฉ</option>
                                    <option value="neutral-tank-top">ุชุงูพ ุจุฏูู ุขุณุชู ุฎูุซ</option>
                                </select>
                                <small style="color: #6b7280; display: block; margin-top: 8px;">
                                    ๐ก ูุจุงุณโูุง ุณุงุฏู ู ุชฺฉโุฑูฺฏ ุจูุชุฑู ุงูุชุฎุงุจ ุจุฑุง ููุงุด ุงฺฉุณุณูุฑ ูุณุชูุฏ
                                </small>
                            </div>

                            <div class="form-group">
                                <label>ูุฑููฺฏ ุฏูุฑุจู ๐ท</label>
                                <select id="accessoryCameraFraming">
                                    <option value="upper-body">ููโุชูู ุจุงูุง (ุจุฑุง ุฌูุงูุฑุงุชุ ุนูฺฉุ ฺฉูุงู)</option>
                                    <option value="three-quarter">ุณูโฺูุงุฑู ุจุฏู (ุจุฑุง ฺฉูุ ฺฉูุฑุจูุฏ)</option>
                                    <option value="hands-focus">ุชูุฑฺฉุฒ ุฑู ุฏุณุชโูุง (ุจุฑุง ุณุงุนุชุ ุงูฺฏุดุชุฑุ ุฏุณุชุจูุฏ)</option>
                                    <option value="face-neck-focus">ุชูุฑฺฉุฒ ุฑู ุตูุฑุช ู ฺฏุฑุฏู (ุจุฑุง ฺฏูุดูุงุฑูุ ฺฏุฑุฏูุจูุฏ)</option>
                                </select>
                                <small style="color: #6b7280; display: block; margin-top: 8px;">
                                    ๐ธ ูุญูู ูุฑู ุดุฏู ูุฏู ุจุณุชู ุจู ููุน ุงฺฉุณุณูุฑ
                                </small>
                            </div>

                            <div class="form-group">
                                <label>ุญุงูุช ุจุฏู ุจุฑุง ุงฺฉุณุณูุฑ ๐คธ</label>
                                <select id="accessoryPose">
                                    <option value="natural-standing">ุงุณุชุงุฏู ุทุจุน</option>
                                    <option value="hands-visible">ุฏุณุชโูุง ูุงุจู ุฑูุช (ุจุฑุง ุณุงุนุชุ ุงูฺฏุดุชุฑ)</option>
                                    <option value="casual-confident">ุงุนุชูุงุฏ ุจู ููุณ ู ุฑุงุญุช</option>
                                    <option value="minimal-movement">ุญุฑฺฉุช ฺฉูุ ุชูุฑฺฉุฒ ุฑู ุงฺฉุณุณูุฑ</option>
                                </select>
                            </div>
                        </div>
                    </details>

                    <!-- Underwear Photography Section -->
                    <details class="studio-section" style="background: #fce7f3;">
                        <summary style="color: #be123c;">๐ ุนฺฉุงุณ ูุจุงุณ ุฒุฑ (ุจุฑุง ูุฏูโูุง ูุจุงุณ ุฒุฑ)</summary>
                        <p style="color: #881337; margin-bottom: 15px; font-size: 14px;">
                            โ๏ธ ุงู ุจุฎุด ููุท ุจุฑุง ูุฏูโูุง ุงุณุช ฺฉู ูโุฎูุงูุฏ ุจุฑุง ุนฺฉุงุณ ูุญุตููุงุช ูุจุงุณ ุฒุฑ ุงุณุชูุงุฏู ฺฉูุฏ.
                            <br>ุนฺฉุงุณ ุจู ุตูุฑุช ุญุฑููโุงุ ูุญุชุฑูุงูู ู ููุงุณุจ ุจุฑุง ฺฉุงุชุงููฺฏโูุง ูุฑูุดฺฏุงู ุฎูุงูุฏ ุจูุฏ.
                        </p>

                        <div class="form-group" style="margin-bottom: 20px;">
                            <label>ุขุง ุงู ูุฏู ุจุฑุง ุนฺฉุงุณ ูุจุงุณ ุฒุฑ ุงุณุชุ</label>
                            <select id="isUnderwearModel">
                                <option value="no">โ ุฎุฑ - ูุฏู ูุนููู</option>
                                <option value="yes">โ ุจูู - ูุฏู ูุจุงุณ ุฒุฑ</option>
                            </select>
                        </div>

                        <div id="underwearSettingsSection" style="display: none;">
                            <div class="form-group">
                                <label>ููุน ูุจุงุณ ุฒุฑ ๐</label>
                                <select id="underwearTypeForModel">
                                    <option value="">ุงูุชุฎุงุจ ฺฉูุฏ...</option>
                                    <option value="bra">ุณูุชู (ูุฏู ุจุง ุดูุฑุช ูโูพูุดุฏ)</option>
                                    <option value="panty">ุดูุฑุช (ูุฏู ุจุง ุชุงูพ ูโูพูุดุฏ)</option>
                                    <option value="lingerie-set">ุณุช ูุจุงุณ ุฒุฑ (ูุฏู ููุท ุจุง ูุจุงุณ ุฒุฑ)</option>
                                    <option value="sports-bra">ุณูุชู ูุฑุฒุด (ูุฏู ุจุง ุดูุฑุช ูุฑุฒุด)</option>
                                    <option value="boxers">ุจุงฺฉุณุฑ (ูุฏู ุจุง ุชุงูพ ูโูพูุดุฏ)</option>
                                    <option value="briefs">ุฒุฑุดูุฑุช (ูุฏู ุจุง ุชุงูพ ูโูพูุดุฏ)</option>
                                    <option value="bodysuit">ุจุงุฏโุณูุช (ูุฏู ฺฉุงูู)</option>
                                    <option value="shapewear">ูุจุงุณ ูุฑูโุฏููุฏู (ูุฏู ฺฉุงูู)</option>
                                    <option value="sleepwear">ูุจุงุณ ุฎูุงุจ (ูุฏู ฺฉุงูู)</option>
                                </select>
                                <small style="color: #6b7280; display: block; margin-top: 8px;">
                                    ๐ก ููุด ูุตููุน ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ูุจุงุณ ูฺฉูู ุฑุง ุงุถุงูู ูโฺฉูุฏ ุชุง Gemini ูุจูู ฺฉูุฏ
                                </small>
                            </div>

                            <div class="form-group">
                                <label>ูุจุงุณ ุงูู ูุฏู (ุจุฑุง ุจุงูุงุชูู) ๐</label>
                                <select id="underwearTopClothing">
                                    <option value="">ูฺ (ุจุงูุงุชูู ุฎุงู)</option>
                                    <option value="white-tank">ุชุงูพ ุณูุฏ ุณุงุฏู</option>
                                    <option value="black-tank">ุชุงูพ ูุดฺฉ ุณุงุฏู</option>
                                    <option value="gray-tank">ุชุงูพ ุฎุงฺฉุณุชุฑ ุณุงุฏู</option>
                                    <option value="white-sports-bra">ุณูุชู ูุฑุฒุด ุณูุฏ</option>
                                    <option value="black-sports-bra">ุณูุชู ูุฑุฒุด ูุดฺฉ</option>
                                    <option value="nude-tank">ุชุงูพ ุจฺ (ุฑูฺฏ ูพูุณุช)</option>
                                </select>
                                <small style="color: #6b7280; display: block; margin-top: 8px;">
                                    ๐ก ุจุฑุง ุนฺฉุงุณ ุณูุชู: ูฺ | ุจุฑุง ุนฺฉุงุณ ุดูุฑุช: ุชุงูพ
                                </small>
                            </div>

                            <div class="form-group">
                                <label>ูุจุงุณ ุฏูู ูุฏู (ุจุฑุง ูพุงูโุชูู) ๐ฉณ</label>
                                <select id="underwearBottomClothing">
                                    <option value="">ูฺ (ูพุงูโุชูู ุฎุงู)</option>
                                    <option value="black-shorts">ุดูุฑุช ูุฑุฒุด ูุดฺฉ</option>
                                    <option value="white-shorts">ุดูุฑุช ูุฑุฒุด ุณูุฏ</option>
                                    <option value="gray-shorts">ุดูุฑุช ูุฑุฒุด ุฎุงฺฉุณุชุฑ</option>
                                    <option value="black-athletic-shorts">ุดูุฑุช ูุฑุฒุด ฺฉูุชุงู ูุดฺฉ</option>
                                    <option value="nude-shorts">ุดูุฑุช ุจฺ (ุฑูฺฏ ูพูุณุช)</option>
                                </select>
                                <small style="color: #6b7280; display: block; margin-top: 8px;">
                                    ๐ก ุจุฑุง ุนฺฉุงุณ ุดูุฑุช: ูฺ | ุจุฑุง ุนฺฉุงุณ ุณูุชู: ุดูุฑุช
                                </small>
                            </div>

                            <div class="form-group">
                                <label>ูุฑููฺฏ ุฏูุฑุจู ๐ท</label>
                                <select id="underwearCameraFraming">
                                    <option value="upper-body">ููโุชูู ุจุงูุง</option>
                                    <option value="three-quarter">ุณูโฺูุงุฑู ุจุฏู</option>
                                    <option value="full-body">ุชูุงู ุจุฏู</option>
                                    <option value="torso-focus">ุชูุฑฺฉุฒ ุฑู ุชูู</option>
                                </select>
                                <small style="color: #6b7280; display: block; margin-top: 8px;">
                                    ๐ธ ูุญูู ูุฑู ุดุฏู ูุฏู ุจุฑุง ุนฺฉุงุณ ูุญุชุฑูุงูู ูุญุตูู
                                </small>
                            </div>

                            <div class="form-group">
                                <label>ุญุงูุช ุจุฏู ๐คธ</label>
                                <select id="underwearPose">
                                    <option value="natural-standing">ุงุณุชุงุฏู ุทุจุน</option>
                                    <option value="confident-pose">ฺุณุช ุจุง ุงุนุชูุงุฏ ุจู ููุณ</option>
                                    <option value="side-angle">ุฒุงูู ููโุฑุฎ</option>
                                    <option value="catalog-pose">ฺุณุช ฺฉุงุชุงููฺฏ ุญุฑููโุง</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label>ุณุจฺฉ ุนฺฉุงุณ ๐ธ</label>
                                <select id="underwearPhotoStyle">
                                    <option value="clean-minimal">ุชูุฒ ู ูููุงู</option>
                                    <option value="retail-catalog">ฺฉุงุชุงููฺฏ ูุฑูุดฺฏุงู</option>
                                    <option value="professional-studio">ุงุณุชูุฏู ุญุฑููโุง</option>
                                    <option value="elegant-tasteful">ุฒุจุง ู ูุญุชุฑูุงูู</option>
                                </select>
                                <small style="color: #6b7280; display: block; margin-top: 8px;">
                                    ๐ก ููู ุณุจฺฉโูุง ุญุฑููโุง ู ูุญุชุฑูุงูู ูุณุชูุฏ
                                </small>
                            </div>
                        </div>
                    </details>

                    <!-- Additional Details -->
                    <div class="form-group" style="margin-top: 25px;">
                        <label>ุฌุฒุฆุงุช ุงุถุงู (ุงุฎุชุงุฑ)</label>
                        <textarea id="additionalDetails" rows="3" placeholder="ุฌุฒุฆุงุช ุฎุงุต ูุซู ุงฺฉุณุณูุฑุ ุณุจฺฉ ุขุฑุงุดุ ุฒุจุง ุดูุงุณ ุจุฑูุฏุ ูฺฺฏโูุง ุฎุงุต..." style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; font-family: 'Inter', sans-serif;"></textarea>
                    </div>

                    <!-- Generate Button -->
                    <button onclick="generateModel()" class="btn-generate" id="generateBtn">
                        โจ ุชููุฏ ูุฏู ุญุฑููโุง
                    </button>

                </div>
            </div>

            <!-- Preview Section -->
            <div id="previewSection" style="display: none; margin-top: 30px;">
                <div class="preview-container">
                    <h3 style="margin-bottom: 20px; color: #667eea; font-size: 20px;">ูพุดโููุงุด ูุฏู ุชููุฏ ุดุฏู</h3>
                    <img id="generatedImage" src="" alt="Generated Model" class="preview-image">

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                        <div class="form-group">
                            <label>ุฏุณุชูโุจูุฏ *</label>
                            <select id="saveCategory">
                                <option value="woman">๐ฉ ุฒู (Woman)</option>
                                <option value="man">๐จ ูุฑุฏ (Man)</option>
                                <option value="girl">๐ง ุฏุฎุชุฑ (Girl)</option>
                                <option value="boy">๐ฆ ูพุณุฑ (Boy)</option>
                                <option value="child">๐ถ ฺฉูุฏฺฉ (Child)</option>
                                <option value="couple">๐ ุฒูุฌ (Couple)</option>
                                <option value="group">๐ฅ ฺฏุฑูู (Group)</option>
                                <option value="elderly">๐ด ุณุงูููุฏ (Elderly)</option>
                                <option value="teen">๐ง ููุฌูุงู (Teen)</option>
                                <option value="plus-size">โ ุณุงุฒ ุจุฒุฑฺฏ (Plus Size)</option>
                                <option value="accessory">๐ ุงฺฉุณุณูุฑ (Accessory)</option>
                                <option value="underwear">๐ ูุจุงุณ ุฒุฑ (Underwear)</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label>ูุงู *</label>
                            <input type="text" id="saveName" placeholder="ูุงู ูุฏู">
                        </div>
                    </div>

                    <div class="form-group">
                        <label>ููุงุด *</label>
                        <select id="saveVisibility">
                            <option value="private">ุฎุตูุต (ููุท ุงู ฺฉุงุฑุจุฑ)</option>
                            <option value="public">ุนููู (ููู ฺฉุงุฑุจุฑุงู)</option>
                        </select>
                        <small style="color: #6b7280; display: block; margin-top: 4px;">
                            โ๏ธ ุฎุตูุต = ููุท ฺฉุงุฑุจุฑ ุงูุชุฎุงุจ ุดุฏู ูโุจูุฏ | ุนููู = ููู ูโุจููุฏ
                        </small>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 20px;">
                        <button onclick="saveModel()" class="btn-primary">๐พ ุฐุฎุฑู ุฏุฑ ูุญุชูุง ฺฉุงุฑุจุฑ</button>
                        <button onclick="discardModel()" style="background: #6c757d; color: white; padding: 14px; border: none; border-radius: 10px; font-size: 15px; font-weight: 600; cursor: pointer;">
                            โ ุญุฐู
                        </button>
                    </div>
                </div>
            </div>

        </div>

        <!-- Models Management Section -->
        <div class="studio-card" style="background: linear-gradient(135deg, #6366f1 0%, #4f46e5 100%); margin-top: 40px;">
            <div class="studio-card-inner">
                <h2 style="margin-bottom: 20px; color: #eef2ff; display: flex; justify-content: space-between; align-items: center;">
                    <span>๐ ูุฏุฑุช ูุฏูโูุง ุณุงุฎุชู ุดุฏู</span>
                    <div style="display: flex; gap: 10px;">
                        <button onclick="syncStorageToDatabase()" style="background: #f59e0b; color: white; padding: 8px 16px; border: none; border-radius: 8px; cursor: pointer; font-size: 14px; font-weight: 600;">
                            ๐ ููฺฏุงูโุณุงุฒ Storage
                        </button>
                        <button onclick="makeAllModelsPublic()" style="background: #10b981; color: white; padding: 8px 16px; border: none; border-radius: 8px; cursor: pointer; font-size: 14px; font-weight: 600;">
                            ๐ ููู ุฑุง ุนููู ฺฉู
                        </button>
                        <button onclick="loadAllModels()" style="background: #eef2ff; color: #4f46e5; padding: 8px 16px; border: none; border-radius: 8px; cursor: pointer; font-size: 14px; font-weight: 600;">
                            ๐ ุจูโุฑูุฒุฑุณุงู
                        </button>
                    </div>
                </h2>
                <p style="color: #c7d2fe; margin-bottom: 20px; font-size: 15px;">
                    ูุณุช ุชูุงู ูุฏูโูุง ฺฉู ุฏุฑ ุณุณุชู ุณุงุฎุชู ุดุฏูโุงูุฏ. ูโุชูุงูุฏ ูุฑุงุดุ ุญุฐูุ ุง ุชุบุฑ ุฏุณุชุฑุณ ุฏูุฏ.
                </p>

                <!-- Filter and Search -->
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px; margin-bottom: 20px;">
                    <div>
                        <label style="display: block; color: #eef2ff; font-weight: 600; margin-bottom: 8px;">ููุชุฑ ุจุฑ ุงุณุงุณ ฺฉุงุฑุจุฑ:</label>
                        <select id="filterByUser" onchange="filterModels()" style="width: 100%; padding: 10px; border: 2px solid #a5b4fc; border-radius: 8px; font-size: 14px;">
                            <option value="">ููู ฺฉุงุฑุจุฑุงู</option>
                        </select>
                    </div>
                    <div>
                        <label style="display: block; color: #eef2ff; font-weight: 600; margin-bottom: 8px;">ููุชุฑ ุจุฑ ุงุณุงุณ ุฏุณุชู:</label>
                        <select id="filterByCategory" onchange="filterModels()" style="width: 100%; padding: 10px; border: 2px solid #a5b4fc; border-radius: 8px; font-size: 14px;">
                            <option value="">ููู ุฏุณุชูโูุง</option>
                            <option value="woman">๐ฉ ุฒู</option>
                            <option value="man">๐จ ูุฑุฏ</option>
                            <option value="girl">๐ง ุฏุฎุชุฑ</option>
                            <option value="boy">๐ฆ ูพุณุฑ</option>
                            <option value="child">๐ถ ฺฉูุฏฺฉ</option>
                            <option value="couple">๐ ุฒูุฌ</option>
                            <option value="group">๐ฅ ฺฏุฑูู</option>
                            <option value="elderly">๐ด ุณุงูููุฏ</option>
                            <option value="teen">๐ง ููุฌูุงู</option>
                            <option value="plus-size">โ ุณุงุฒ ุจุฒุฑฺฏ</option>
                            <option value="accessory">๐ ุงฺฉุณุณูุฑ</option>
                            <option value="underwear">๐ ูุจุงุณ ุฒุฑ</option>
                        </select>
                    </div>
                    <div>
                        <label style="display: block; color: #eef2ff; font-weight: 600; margin-bottom: 8px;">ููุชุฑ ุจุฑ ุงุณุงุณ ุฏุณุชุฑุณ:</label>
                        <select id="filterByVisibility" onchange="filterModels()" style="width: 100%; padding: 10px; border: 2px solid #a5b4fc; border-radius: 8px; font-size: 14px;">
                            <option value="">ููู</option>
                            <option value="public">๐ ุนููู</option>
                            <option value="private">๐ ุฎุตูุต</option>
                        </select>
                    </div>
                </div>

                <!-- Models Table -->
                <div id="modelsTableContainer" style="background: white; border-radius: 12px; padding: 20px; max-height: 600px; overflow-y: auto;">
                    <div id="modelsTableLoading" style="text-align: center; padding: 40px; color: #6b7280;">
                        โณ ุฏุฑ ุญุงู ุจุงุฑฺฏุฐุงุฑ ูุฏูโูุง...
                    </div>
                    <div id="modelsTableContent" style="display: none;">
                        <!-- Bulk Edit Toolbar -->
                        <div id="bulkEditToolbar" style="display: none; background: #eff6ff; border: 2px solid #3b82f6; border-radius: 8px; padding: 15px; margin-bottom: 15px; align-items: center; justify-content: space-between;">
                            <div style="display: flex; align-items: center; gap: 15px;">
                                <span style="font-weight: 600; color: #1f2937;">
                                    <span id="selectedCount">0</span> ูุฏู ุงูุชุฎุงุจ ุดุฏู
                                </span>
                                <button onclick="bulkEdit()" style="background: #3b82f6; color: white; padding: 8px 16px; border: none; border-radius: 6px; cursor: pointer; font-weight: 500;">
                                    โ๏ธ ูุฑุงุด ุฏุณุชูโุฌูุน
                                </button>
                                <button onclick="bulkDelete()" style="background: #ef4444; color: white; padding: 8px 16px; border: none; border-radius: 6px; cursor: pointer; font-weight: 500;">
                                    ๐๏ธ ุญุฐู ุฏุณุชูโุฌูุน
                                </button>
                                <button onclick="clearSelection()" style="background: #6b7280; color: white; padding: 8px 16px; border: none; border-radius: 6px; cursor: pointer; font-weight: 500;">
                                    โ๏ธ ูุบู ุงูุชุฎุงุจ
                                </button>
                            </div>
                        </div>

                        <table style="width: 100%; border-collapse: collapse;">
                            <thead>
                                <tr style="background: #f3f4f6; border-bottom: 2px solid #e5e7eb;">
                                    <th style="padding: 12px; text-align: center; font-weight: 600; color: #374151;">
                                        <input type="checkbox" id="selectAllCheckbox" onchange="toggleSelectAll()" style="width: 18px; height: 18px; cursor: pointer;">
                                    </th>
                                    <th style="padding: 12px; text-align: right; font-weight: 600; color: #374151;">ุชุตูุฑ</th>
                                    <th style="padding: 12px; text-align: right; font-weight: 600; color: #374151;">ูุงู</th>
                                    <th style="padding: 12px; text-align: right; font-weight: 600; color: #374151;">ุฏุณุชู</th>
                                    <th style="padding: 12px; text-align: right; font-weight: 600; color: #374151;">ฺฉุงุฑุจุฑ</th>
                                    <th style="padding: 12px; text-align: right; font-weight: 600; color: #374151;">ุฏุณุชุฑุณ</th>
                                    <th style="padding: 12px; text-align: right; font-weight: 600; color: #374151;">ุชุงุฑุฎ</th>
                                    <th style="padding: 12px; text-align: center; font-weight: 600; color: #374151;">ุนููุงุช</th>
                                </tr>
                            </thead>
                            <tbody id="modelsTableBody">
                                <!-- Models will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                    <div id="modelsTableEmpty" style="display: none; text-align: center; padding: 40px; color: #9ca3af;">
                        <p style="font-size: 18px; margin-bottom: 10px;">๐ญ</p>
                        <p>ูฺ ูุฏู ุงูุช ูุดุฏ</p>
                    </div>
                </div>
            </div>
        </div>

    </main>

    <!-- Edit Model Modal -->
    <div id="editModelModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); z-index: 10000; align-items: center; justify-content: center;">
        <div style="background: white; border-radius: 16px; padding: 30px; max-width: 600px; width: 90%; max-height: 90vh; overflow-y: auto; box-shadow: 0 20px 60px rgba(0,0,0,0.3);">
            <h2 style="margin-bottom: 20px; color: #1f2937; border-bottom: 2px solid #e5e7eb; padding-bottom: 15px;">
                โ๏ธ ูุฑุงุด ูุฏู
            </h2>

            <div style="margin-bottom: 20px;">
                <label style="display: block; font-weight: 600; margin-bottom: 8px; color: #374151;">ูุงู ูุฏู:</label>
                <input type="text" id="editModelName" style="width: 100%; padding: 12px; border: 2px solid #d1d5db; border-radius: 8px; font-size: 14px;">
            </div>

            <div style="margin-bottom: 20px;">
                <label style="display: block; font-weight: 600; margin-bottom: 8px; color: #374151;">ุฏุณุชู:</label>
                <select id="editModelCategory" style="width: 100%; padding: 12px; border: 2px solid #d1d5db; border-radius: 8px; font-size: 14px;">
                    <option value="woman">๐ฉ ุฒู (Woman)</option>
                    <option value="man">๐จ ูุฑุฏ (Man)</option>
                    <option value="girl">๐ง ุฏุฎุชุฑ (Girl)</option>
                    <option value="boy">๐ฆ ูพุณุฑ (Boy)</option>
                    <option value="child">๐ถ ฺฉูุฏฺฉ (Child)</option>
                    <option value="couple">๐ ุฒูุฌ (Couple)</option>
                    <option value="group">๐ฅ ฺฏุฑูู (Group)</option>
                    <option value="elderly">๐ด ุณุงูููุฏ (Elderly)</option>
                    <option value="teen">๐ง ููุฌูุงู (Teen)</option>
                    <option value="plus-size">โ ุณุงุฒ ุจุฒุฑฺฏ (Plus Size)</option>
                    <option value="accessory">๐ ุงฺฉุณุณูุฑ (Accessory)</option>
                    <option value="underwear">๐ ูุจุงุณ ุฒุฑ (Underwear)</option>
                </select>
            </div>

            <div style="margin-bottom: 20px;">
                <label style="display: block; font-weight: 600; margin-bottom: 8px; color: #374151;">ุฏุณุชุฑุณ:</label>
                <select id="editModelVisibility" style="width: 100%; padding: 12px; border: 2px solid #d1d5db; border-radius: 8px; font-size: 14px;">
                    <option value="private">๐ ุฎุตูุต (ููุท ุงู ฺฉุงุฑุจุฑ)</option>
                    <option value="public">๐ ุนููู (ููู ฺฉุงุฑุจุฑุงู)</option>
                </select>
                <small style="color: #6b7280; display: block; margin-top: 8px;">
                    ๐ก ุฎุตูุต: ููุท ฺฉุงุฑุจุฑ ุงูุชุฎุงุจ ุดุฏู ูโุจูุฏ | ุนููู: ููู ฺฉุงุฑุจุฑุงู ูโุจููุฏ
                </small>
            </div>

            <div style="margin-bottom: 20px;">
                <label style="display: block; font-weight: 600; margin-bottom: 8px; color: #374151;">ฺฉุงุฑุจุฑ ูุงูฺฉ:</label>
                <select id="editModelUser" style="width: 100%; padding: 12px; border: 2px solid #d1d5db; border-radius: 8px; font-size: 14px;">
                    <!-- Will be populated with users -->
                </select>
                <small style="color: #6b7280; display: block; margin-top: 8px;">
                    ๐ก ูโุชูุงูุฏ ุงู ูุฏู ุฑุง ุจู ฺฉุงุฑุจุฑ ุฏฺฏุฑ ููุชูู ฺฉูุฏ
                </small>
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 30px;">
                <button onclick="saveModelEdit()" style="background: #3b82f6; color: white; padding: 14px; border: none; border-radius: 10px; font-size: 15px; font-weight: 600; cursor: pointer;">
                    ๐พ ุฐุฎุฑู ุชุบุฑุงุช
                </button>
                <button onclick="closeEditModal()" style="background: #6b7280; color: white; padding: 14px; border: none; border-radius: 10px; font-size: 15px; font-weight: 600; cursor: pointer;">
                    โ ุงูุตุฑุงู
                </button>
            </div>
        </div>
    </div>

    <!-- Bulk Edit Modal -->
    <div id="bulkEditModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); z-index: 10000; align-items: center; justify-content: center;">
        <div style="background: white; border-radius: 16px; padding: 30px; max-width: 600px; width: 90%; max-height: 90vh; overflow-y: auto; box-shadow: 0 20px 60px rgba(0,0,0,0.3);">
            <h2 style="margin-bottom: 20px; color: #1f2937; border-bottom: 2px solid #e5e7eb; padding-bottom: 15px;">
                โ๏ธ ูุฑุงุด ุฏุณุชูโุฌูุน (<span id="bulkEditCount">0</span> ูุฏู)
            </h2>

            <div style="background: #fffbeb; border: 1px solid #fbbf24; border-radius: 8px; padding: 12px; margin-bottom: 20px;">
                <p style="color: #92400e; font-size: 14px; margin: 0;">
                    โ๏ธ ููุท ููุฏูุง ฺฉู ุชุบุฑ ูโุฏูุฏ ุจุฑุง ููู ูุฏูโูุง ุงูุชุฎุงุจ ุดุฏู ุงุนูุงู ูโุดูุฏ
                </p>
            </div>

            <div style="margin-bottom: 20px;">
                <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #374151;">
                    ุฏุณุชูโุจูุฏ
                </label>
                <select id="bulkEditCategory" style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 14px;">
                    <option value="">-- ุจุฏูู ุชุบุฑ --</option>
                    <option value="woman">๐ฉ ุฒู</option>
                    <option value="man">๐จ ูุฑุฏ</option>
                    <option value="girl">๐ง ุฏุฎุชุฑ</option>
                    <option value="boy">๐ฆ ูพุณุฑ</option>
                    <option value="child">๐ถ ฺฉูุฏฺฉ</option>
                    <option value="couple">๐ ุฒูุฌ</option>
                    <option value="group">๐ฅ ฺฏุฑูู</option>
                    <option value="elderly">๐ด ุณุงูููุฏ</option>
                    <option value="teen">๐ง ููุฌูุงู</option>
                    <option value="plus-size">โ ูพูุงุณ ุณุงุฒ</option>
                    <option value="accessory">๐ ุงฺฉุณุณูุฑ</option>
                    <option value="underwear">๐ ูุจุงุณ ุฒุฑ</option>
                </select>
            </div>

            <div style="margin-bottom: 20px;">
                <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #374151;">
                    ููุน ุฏุณุชุฑุณ
                </label>
                <select id="bulkEditVisibility" style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 14px;">
                    <option value="">-- ุจุฏูู ุชุบุฑ --</option>
                    <option value="public">๐ ุนููู (ููู ฺฉุงุฑุจุฑุงู)</option>
                    <option value="private">๐ ุฎุตูุต (ููุท ูุงูฺฉ)</option>
                    <option value="premium">โญ ูพุฑููู (ฺฉุงุฑุจุฑุงู ูพุฑููู)</option>
                </select>
            </div>

            <div style="margin-bottom: 20px;">
                <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #374151;">
                    ูุงูฺฉ ูุฏู
                </label>
                <select id="bulkEditUser" style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 14px;">
                    <option value="">-- ุจุฏูู ุชุบุฑ --</option>
                </select>
                <small style="color: #6b7280; font-size: 12px; display: block; margin-top: 5px;">
                    ๐ก ูโุชูุงูุฏ ููู ูุฏูโูุง ุงูุชุฎุงุจ ุดุฏู ุฑุง ุจู ฺฉ ฺฉุงุฑุจุฑ ููุชูู ฺฉูุฏ
                </small>
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 30px;">
                <button onclick="saveBulkEdit()" style="background: #3b82f6; color: white; padding: 14px; border: none; border-radius: 10px; font-size: 15px; font-weight: 600; cursor: pointer;">
                    ๐พ ุงุนูุงู ุชุบุฑุงุช
                </button>
                <button onclick="closeBulkEditModal()" style="background: #6b7280; color: white; padding: 14px; border: none; border-radius: 10px; font-size: 15px; font-weight: 600; cursor: pointer;">
                    โ ุงูุตุฑุงู
                </button>
            </div>
        </div>
    </div>

    <script src="/admin-menu.js"></script>
    <script src="/admin-common.js"></script>
    <script>
        // Notification system
        function showNotification(message, type = 'info') {
            // Create notification element
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${type === 'success' ? '#10b981' : type === 'error' ? '#ef4444' : type === 'warning' ? '#f59e0b' : '#3b82f6'};
                color: white;
                padding: 16px 24px;
                border-radius: 8px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.2);
                z-index: 100000;
                font-size: 14px;
                max-width: 400px;
                animation: slideIn 0.3s ease-out;
            `;
            notification.textContent = message;

            // Add to page
            document.body.appendChild(notification);

            // Remove after 3 seconds
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease-out';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }

        let allUsers = [];
        let selectedUserId = null;
        let generatedImageData = null;

        // Age and Ethnicity Settings - use Basic Info dropdowns directly
        // Age range to exact age mapping
        const ageRangeToExact = {
            'child': 8,        // ฺฉูุฏฺฉ (5-12) โ average 8
            'teen': 15,        // ููุฌูุงู (13-17) โ average 15
            'young-adult': 22, // ุฌูุงู (18-25) โ average 22
            'adult': 33,       // ุจุฒุฑฺฏุณุงู (26-40) โ average 33
            'middle-aged': 50, // ูุงูุณุงู (41-60) โ average 50
            'elderly': 65      // ุณุงูููุฏ (60+) โ 65
        };

        // Load users on page load
        async function loadUsers() {
            try {
                const response = await fetchWithAuth('/api/admin/users');
                const data = await response.json();

                if (data.success) {
                    allUsers = data.users;
                    const select = document.getElementById('selectedUser');
                    select.innerHTML = '<option value="">-- ฺฉุงุฑุจุฑ ุฑุง ุจุฑุง ุณุงุฎุช ูุฏู ุงูุชุฎุงุจ ฺฉูุฏ --</option>' +
                        allUsers.map(user =>
                            `<option value="${user.user_id}">${user.email}${user.is_premium ? ' โญ ูพุฑููู' : ''}</option>`
                        ).join('');
                }
            } catch (error) {
                console.error('Error loading users:', error);
                showNotification('ุฎุทุง ุฏุฑ ุจุงุฑฺฏุฐุงุฑ ฺฉุงุฑุจุฑุงู', 'error');
            }
        }

        function handleUserSelect() {
            selectedUserId = document.getElementById('selectedUser').value;
            if (selectedUserId) {
                console.log('Selected user:', selectedUserId);
            }
        }

        // Toggle accessory clothing section
        document.getElementById('isAccessoryModel').addEventListener('change', function() {
            const accessoryClothingSection = document.getElementById('accessoryClothingSection');
            const bodyPartTypeSection = document.getElementById('bodyPartTypeSection');

            if (this.value === 'full-body') {
                accessoryClothingSection.style.display = 'block';
                bodyPartTypeSection.style.display = 'none';
            } else if (this.value === 'body-part') {
                accessoryClothingSection.style.display = 'none';
                bodyPartTypeSection.style.display = 'block';
            } else {
                accessoryClothingSection.style.display = 'none';
                bodyPartTypeSection.style.display = 'none';
            }
        });

        // Toggle underwear settings section
        document.getElementById('isUnderwearModel').addEventListener('change', function() {
            const underwearSettingsSection = document.getElementById('underwearSettingsSection');
            if (this.value === 'yes') {
                underwearSettingsSection.style.display = 'block';
            } else {
                underwearSettingsSection.style.display = 'none';
            }
        });

        async function generateModel() {
            if (!selectedUserId) {
                showNotification('ูุทูุงู ุงุจุชุฏุง ฺฉ ฺฉุงุฑุจุฑ ุงูุชุฎุงุจ ฺฉูุฏ', 'error');
                return;
            }

            const generateBtn = document.getElementById('generateBtn');
            generateBtn.disabled = true;
            generateBtn.textContent = 'โณ ุฏุฑ ุญุงู ุชููุฏ...';

            try {
                // Check if user uploaded a model photo
                if (uploadedModelDataUrl) {
                    // Use the uploaded photo directly
                    generatedImageData = {
                        imageUrl: uploadedModelDataUrl,
                        prompt: 'User uploaded model photo',
                        isUploadedPhoto: true
                    };

                    document.getElementById('generatedImage').src = uploadedModelDataUrl;
                    document.getElementById('previewSection').style.display = 'block';
                    document.getElementById('previewSection').scrollIntoView({ behavior: 'smooth' });

                    // Pre-fill the category from the upload section
                    document.getElementById('saveCategory').value = document.getElementById('uploadedModelCategory').value;

                    showNotification('ุนฺฉุณ ุขูพููุฏ ุดุฏู ุขูุงุฏู ุฐุฎุฑู ุงุณุช!', 'success');
                    generateBtn.disabled = false;
                    generateBtn.textContent = 'โจ ุชููุฏ ูุฏู ุญุฑููโุง';
                    return;
                }

                // Get age and ethnicity for backend
                const modelAge = parseInt(document.getElementById('modelAge').value) || 25;
                const modelEthnicity = document.getElementById('modelEthnicity').value;

                // Build comprehensive prompt from all form fields
                const prompt = buildModelPrompt();
                console.log('Generated prompt:', prompt);

                const response = await fetchWithAuth('/api/generate-image-only', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        prompt: prompt,
                        contentType: 'model',
                        aspectRatio: document.getElementById('aspectRatio').value,
                        modelAge: modelAge,
                        modelEthnicity: modelEthnicity
                    })
                });

                const data = await response.json();

                if (data.success) {
                    generatedImageData = {
                        imageUrl: data.imageUrl,
                        prompt: prompt
                    };

                    document.getElementById('generatedImage').src = data.imageUrl;
                    document.getElementById('previewSection').style.display = 'block';
                    document.getElementById('previewSection').scrollIntoView({ behavior: 'smooth' });

                    showNotification('ูุฏู ุจุง ููููุช ุชููุฏ ุดุฏ!', 'success');
                } else {
                    throw new Error(data.error || 'Generation failed');
                }
            } catch (error) {
                console.error('Generation error:', error);
                showNotification('ุฎุทุง ุฏุฑ ุชููุฏ ูุฏู: ' + error.message, 'error');
            } finally {
                generateBtn.disabled = false;
                generateBtn.textContent = 'โจ ุชููุฏ ูุฏู ุญุฑููโุง';
            }
        }

        function buildBodyPartPrompt(bodyPartType, gender, age, ethnicity, skinTone, skinTexture, quality) {
            const bodyPartPrompts = {
                'hand-palm': `Professional ${quality} close-up product photography of BARE ${gender} hand with NO jewelry or accessories, palm facing forward. ${skinTone} ${skinTexture} skin. Hand is elegantly positioned, fingers slightly spread, relaxed natural pose. IMPORTANT: Completely bare hand, no rings, no bracelets, no watches, no nail polish - clean natural hand ready for product placement. Clean white studio background, soft professional lighting. Extreme close-up, sharp focus on hand details, photorealistic, 8K resolution. Empty hand template for jewelry product photography.`,

                'hand-side': `Professional ${quality} close-up product photography of BARE ${gender} hand with NO jewelry or accessories, from side angle. ${skinTone} ${skinTexture} skin. Hand in elegant relaxed pose, side profile view showing wrist and fingers clearly. IMPORTANT: Completely bare hand and wrist, no rings, no bracelets, no watches - clean natural hand ready for product placement. Clean white studio background, professional lighting. Extreme close-up, sharp focus, photorealistic, 8K resolution. Empty hand template for jewelry product photography.`,

                'wrist': `Professional ${quality} close-up product photography focusing on BARE ${gender} wrist and forearm with NO jewelry or accessories. ${skinTone} ${skinTexture} skin. Wrist positioned elegantly at slight angle, forearm visible, hand relaxed. IMPORTANT: Completely bare wrist, no watches, no bracelets - clean natural wrist ready for product placement. Clean white studio background, professional lighting. Close-up shot, sharp focus on wrist area, photorealistic, 8K resolution. Empty wrist template for watch and bracelet product photography.`,

                'neck-chest': `Professional ${quality} close-up product photography of BARE ${gender} neck and upper chest area with NO jewelry or accessories. ${skinTone} ${skinTexture} skin. Elegant neckline, shoulders visible, clean minimal styling. Head cropped at chin level (face not shown), focus on neck and collarbone area. IMPORTANT: Completely bare neck, no necklaces, no pendants, no chains - clean natural neck ready for product placement. Clean white studio background, professional lighting. Close-up shot, sharp focus, photorealistic, 8K resolution. Empty neck template for necklace product photography.`,

                'ear-profile': `Professional ${quality} close-up product photography of BARE ${gender} side profile showing ear clearly with NO jewelry or accessories. ${skinTone} ${skinTexture} skin. Clean ear with elegant profile, hair pulled back away from ear. Face partially visible in profile (focus on ear), neck and shoulder visible. IMPORTANT: Completely bare ear, no earrings, no piercings visible - clean natural ear ready for product placement. Clean white studio background, professional lighting. Close-up shot, sharp focus on ear, photorealistic, 8K resolution. Empty ear template for earring product photography.`,

                'face-portrait': `Professional ${quality} portrait close-up product photography of ${ethnicity} ${gender} face with NO glasses or accessories. ${skinTone} ${skinTexture} skin. Clean elegant facial features, neutral confident expression, straight head angle looking at camera. Hair styled neatly. IMPORTANT: Completely bare face, no sunglasses, no eyeglasses, no accessories - clean natural face ready for eyewear placement. Clean white studio background, professional lighting. Portrait headshot, sharp focus on face, photorealistic, 8K resolution. Empty face template for eyewear product photography.`
            };

            return bodyPartPrompts[bodyPartType] || `Professional product photography close-up of ${gender} ${bodyPartType}`;
        }

        function buildModelPrompt() {
            // Basic info
            const gender = document.getElementById('modelGender').value;

            // Get exact age directly from input
            const ageExact = parseInt(document.getElementById('modelAge').value) || 25;

            // Convert exact age to age range description for prompt
            let ageRange;
            if (ageExact < 12) {
                ageRange = 'child';
            } else if (ageExact < 18) {
                ageRange = 'teen';
            } else if (ageExact < 26) {
                ageRange = 'young adult';
            } else if (ageExact < 41) {
                ageRange = 'adult';
            } else if (ageExact < 61) {
                ageRange = 'middle aged';
            } else {
                ageRange = 'elderly';
            }

            // Get ethnicity from dropdown
            const ethnicity = document.getElementById('modelEthnicity').value;

            // Face
            const faceShape = document.getElementById('faceShape').value;
            const eyeColor = document.getElementById('eyeColor').value;
            const eyeShape = document.getElementById('eyeShape').value;
            const eyebrows = document.getElementById('eyebrows').value;
            const noseType = document.getElementById('noseType').value;
            const lipFullness = document.getElementById('lipFullness').value;
            const cheekbones = document.getElementById('cheekbones').value;
            const jawline = document.getElementById('jawline').value;
            const chin = document.getElementById('chin').value;

            // Hair
            const hairColor = document.getElementById('hairColor').value;
            const hairLength = document.getElementById('hairLength').value;
            const hairTexture = document.getElementById('hairTexture').value;
            const hairstyle = document.getElementById('hairstyle').value;
            const facialHair = document.getElementById('facialHair').value;

            // Skin & Body
            const skinTone = document.getElementById('skinTone').value;
            const selectedSkinTextures = Array.from(document.querySelectorAll('.skin-texture-checkbox:checked')).map(cb => cb.value);
            const skinTexture = selectedSkinTextures.length > 0 ? selectedSkinTextures.join(', ') : 'smooth';
            const selectedBodyTypes = Array.from(document.querySelectorAll('.body-type-checkbox:checked')).map(cb => cb.value);
            const bodyType = selectedBodyTypes.length > 0 ? selectedBodyTypes.join(', ') : 'athletic';
            const height = document.getElementById('height').value;

            // Expression & Pose
            const expression = document.getElementById('expression').value;
            const selectedPoses = Array.from(document.querySelectorAll('.pose-checkbox:checked')).map(cb => cb.value);
            const headAngle = document.getElementById('headAngle').value;

            // Photography
            const cameraAngle = document.getElementById('cameraAngle').value;
            const shotType = document.getElementById('shotType').value;
            const modelFramingType = document.getElementById('modelFramingType').value;
            const lighting = document.getElementById('lighting').value;
            const bgStyle = document.getElementById('bgStyle').value;
            const quality = document.getElementById('imageQuality').value;

            // Additional
            const additional = document.getElementById('additionalDetails').value;

            // Accessory photography specific
            const isAccessoryValue = document.getElementById('isAccessoryModel').value;
            const isAccessory = isAccessoryValue === 'full-body' || isAccessoryValue === 'body-part';
            const isBodyPart = isAccessoryValue === 'body-part';
            const bodyPartType = document.getElementById('bodyPartType').value;
            const accessoryClothing = document.getElementById('accessoryClothingStyle').value;
            const accessoryFraming = document.getElementById('accessoryCameraFraming').value;
            const accessoryPose = document.getElementById('accessoryPose').value;

            // Underwear photography specific
            const isUnderwear = document.getElementById('isUnderwearModel').value === 'yes';
            const underwearTypeForModel = document.getElementById('underwearTypeForModel').value;
            const underwearTopClothing = document.getElementById('underwearTopClothing').value;
            const underwearBottomClothing = document.getElementById('underwearBottomClothing').value;
            const underwearFraming = document.getElementById('underwearCameraFraming').value;
            const underwearPose = document.getElementById('underwearPose').value;
            const underwearPhotoStyle = document.getElementById('underwearPhotoStyle').value;

            // Build comprehensive prompt
            let photoType = isAccessory ? 'accessory product' : (isUnderwear ? 'underwear product' : 'fashion');

            // SPECIAL HANDLING: Body-part models for accessory photography
            if (isBodyPart && bodyPartType) {
                return buildBodyPartPrompt(bodyPartType, gender, ageExact, ethnicity, skinTone, skinTexture, quality);
            }

            let prompt = `Professional ${quality} ${photoType} photograph of a ${ageRange} ${ethnicity} ${gender} model. `;

            // For underwear models: HEADLESS/CROPPED (no face shown) for e-commerce focus
            if (!isUnderwear) {
                prompt += `Face: ${faceShape} face shape, ${eyeShape} ${eyeColor} eyes, ${eyebrows} eyebrows, ${noseType} nose, ${lipFullness} lips, ${cheekbones} cheekbones, ${jawline} jawline, ${chin} chin. `;

                prompt += `Hair: ${hairLength} ${hairTexture} ${hairColor} hair styled in ${hairstyle}. `;
                if (gender === 'male' && facialHair !== 'none') {
                    prompt += `${facialHair} facial hair. `;
                }
            } else {
                // Headless model for underwear photography
                prompt += `HEADLESS MODEL - face and head NOT SHOWN, cropped at neck level. E-commerce product photography style focusing only on body and garment. `;
            }

            prompt += `Skin: ${skinTone} skin tone, ${skinTexture}. `;
            prompt += `Body: ${bodyType} ${height} build. `;

            // CUSTOM CLOTHING: User-selected clothing for underwear models
            if (isUnderwear) {
                const topClothingDescriptions = {
                    'white-tank': 'wearing simple plain white tank top on upper body',
                    'black-tank': 'wearing simple plain black tank top on upper body',
                    'gray-tank': 'wearing simple plain gray tank top on upper body',
                    'white-sports-bra': 'wearing white sports bra on upper body',
                    'black-sports-bra': 'wearing black sports bra on upper body',
                    'nude-tank': 'wearing nude/beige tank top on upper body'
                };

                const bottomClothingDescriptions = {
                    'black-shorts': 'wearing black athletic shorts on lower body',
                    'white-shorts': 'wearing white athletic shorts on lower body',
                    'gray-shorts': 'wearing gray athletic shorts on lower body',
                    'black-athletic-shorts': 'wearing short black athletic shorts on lower body',
                    'nude-shorts': 'wearing nude/beige shorts on lower body'
                };

                let clothingParts = [];

                if (underwearTopClothing && topClothingDescriptions[underwearTopClothing]) {
                    clothingParts.push(topClothingDescriptions[underwearTopClothing]);
                }

                if (underwearBottomClothing && bottomClothingDescriptions[underwearBottomClothing]) {
                    clothingParts.push(bottomClothingDescriptions[underwearBottomClothing]);
                }

                if (clothingParts.length > 0) {
                    prompt += `Clothing: ${clothingParts.join(', ')}. `;
                    prompt += `IMPORTANT: Model prepared for underwear product photography - selected garments allow product placement. `;
                } else {
                    prompt += `IMPORTANT: Minimal coverage model for underwear product photography. `;
                }
            }

            // Accessory-specific clothing and framing
            if (isAccessory && accessoryClothing) {
                const clothingDescriptions = {
                    'simple-white-tshirt': 'wearing simple plain white t-shirt',
                    'black-turtleneck': 'wearing black turtleneck sweater',
                    'beige-blazer': 'wearing beige classic blazer',
                    'gray-sweater': 'wearing gray plain sweater',
                    'minimal-dress': 'wearing minimal simple dress',
                    'plain-white-shirt': 'wearing plain white button-up shirt',
                    'navy-cardigan': 'wearing navy blue cardigan',
                    'cream-blouse': 'wearing cream-colored blouse',
                    'black-v-neck': 'wearing black V-neck t-shirt',
                    'neutral-tank-top': 'wearing neutral-colored tank top'
                };
                prompt += `Clothing: ${clothingDescriptions[accessoryClothing] || accessoryClothing}. `;
                prompt += `IMPORTANT: Simple, solid-color, minimal clothing to NOT distract from accessories. `;
            }

            // Pose handling (accessory, underwear, or regular)
            if (isAccessory && accessoryPose) {
                prompt += `Pose: ${accessoryPose.replace('-', ' ')} pose. `;
            } else if (isUnderwear && underwearPose) {
                prompt += `Pose: ${underwearPose.replace('-', ' ')} pose. `;
            } else {
                // Multiple poses can be combined
                if (selectedPoses && selectedPoses.length > 0) {
                    const poseDescriptions = selectedPoses.map(p => p.replace('-', ' ')).join(', ');
                    prompt += `Pose: ${poseDescriptions}, head ${headAngle.replace('-', ' ')}. `;
                } else {
                    prompt += `Pose: standing naturally, head ${headAngle.replace('-', ' ')}. `;
                }
            }

            prompt += `Expression: ${expression.replace('-', ' ')} expression. `;

            // Model Framing Type - What the user will see when they ask for model
            const framingDescriptions = {
                'full-length': 'FULL-LENGTH MODEL - complete full body from head to toe, entire person visible',
                'upper-half': 'UPPER-HALF MODEL - from head down to waist/hips area, lower body NOT shown',
                'lower-half': 'LOWER-HALF MODEL - from waist/hips down to feet, head and upper body NOT shown, focus on legs and lower body',
                'neck-up': 'NECK-UP MODEL - from neck upwards only showing head and face, body NOT visible below neck'
            };
            if (modelFramingType && framingDescriptions[modelFramingType]) {
                prompt += `Model Type: ${framingDescriptions[modelFramingType]}. `;
            }

            // Camera framing (accessory, underwear, or regular)
            if (isAccessory && accessoryFraming) {
                const framingDescriptions = {
                    'upper-body': 'upper body shot focusing on face, neck, and shoulders area - perfect for jewelry, glasses, hats',
                    'three-quarter': 'three-quarter body shot showing torso and upper legs - ideal for bags, belts',
                    'hands-focus': 'shot with clear focus on hands and wrists - perfect for watches, rings, bracelets',
                    'face-neck-focus': 'close-up focusing on face and neck area - ideal for earrings, necklaces'
                };
                prompt += `Camera Framing: ${framingDescriptions[accessoryFraming] || accessoryFraming}. `;
            } else if (isUnderwear && underwearFraming) {
                const underwearFramingDescriptions = {
                    'upper-body': 'upper body shot - professional, tasteful',
                    'three-quarter': 'three-quarter body shot - clean, respectful framing',
                    'full-body': 'full body shot - professional product photography',
                    'torso-focus': 'torso-focused shot - appropriate retail catalog style'
                };
                prompt += `Camera Framing: ${underwearFramingDescriptions[underwearFraming] || underwearFraming}. `;
            } else {
                prompt += `Photography: ${shotType.replace('-', ' ')} shot from ${cameraAngle.replace('-', ' ')} angle, ${lighting} lighting, ${bgStyle.replace('-', ' ')} background. `;
            }

            // Special instructions for product photography
            if (isAccessory) {
                prompt += `ACCESSORY PRODUCT PHOTOGRAPHY: Model is styled specifically for showcasing accessories. Clean background, professional lighting, model pose and framing optimized to display accessories clearly. The model complements the accessory, not competes with it. `;
            }

            if (isUnderwear) {
                const photoStyleDescriptions = {
                    'clean-minimal': 'Clean, minimal aesthetic - simple and professional',
                    'retail-catalog': 'Retail catalog style - appropriate, professional product photography',
                    'professional-studio': 'Professional studio photography - high-end, tasteful',
                    'elegant-tasteful': 'Elegant and tasteful approach - sophisticated, respectful'
                };
                prompt += `UNDERWEAR PRODUCT PHOTOGRAPHY: ${photoStyleDescriptions[underwearPhotoStyle] || underwearPhotoStyle}. Model is styled for professional, tasteful underwear product photography similar to high-end retail catalogs. Clean background, professional lighting, APPROPRIATE and RESPECTFUL framing and composition. The model showcases the product professionally - NEVER overtly sexual or inappropriate. `;
            }

            const finalPhotoType = isAccessory ? 'product' : (isUnderwear ? 'product' : 'fashion');
            prompt += `Professional ${finalPhotoType} photography, high-end editorial quality, sharp focus, perfect lighting, detailed features, photorealistic, 8K resolution. `;

            if (additional) {
                prompt += additional + ' ';
            }

            return prompt;
        }

        async function saveModel() {
            if (!generatedImageData || !selectedUserId) {
                showNotification('Missing required data', 'error');
                return;
            }

            try {
                const response = await fetchWithAuth('/api/admin/save-generated-to-user', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        imageUrl: generatedImageData.imageUrl,
                        user_id: selectedUserId,
                        content_type: 'model',
                        visibility: document.getElementById('saveVisibility').value,
                        category: document.getElementById('saveCategory').value,
                        name: document.getElementById('saveName').value || 'AI Generated Model',
                        description: `AI Generated Model: ${generatedImageData.prompt}`,
                        prompt: generatedImageData.prompt
                    })
                });

                const data = await response.json();

                if (data.success) {
                    showNotification('ูุฏู ุฏุฑ ูุญุชูุง ฺฉุงุฑุจุฑ ุฐุฎุฑู ุดุฏ!', 'success');
                    discardModel();
                } else {
                    throw new Error(data.error || 'Save failed');
                }
            } catch (error) {
                console.error('Save error:', error);
                showNotification('ุฎุทุง ุฏุฑ ุฐุฎุฑู ูุฏู: ' + error.message, 'error');
            }
        }

        function discardModel() {
            generatedImageData = null;
            document.getElementById('previewSection').style.display = 'none';
            document.getElementById('saveName').value = '';
        }

        // Handle model photo upload
        let uploadedModelFile = null;
        let uploadedModelDataUrl = null;

        document.getElementById('modelPhotoUpload').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (!file) return;

            // Validate file size (10MB max)
            if (file.size > 10 * 1024 * 1024) {
                showNotification('ุญุฌู ูุงู ูุจุงุฏ ุจุดุชุฑ ุงุฒ 10 ูฺฏุงุจุงุช ุจุงุดุฏ', 'error');
                e.target.value = '';
                return;
            }

            // Validate file type
            if (!file.type.startsWith('image/')) {
                showNotification('ูุทูุงู ููุท ูุงู ุชุตูุฑ ุงูุชุฎุงุจ ฺฉูุฏ', 'error');
                e.target.value = '';
                return;
            }

            uploadedModelFile = file;

            // Preview the image
            const reader = new FileReader();
            reader.onload = function(event) {
                uploadedModelDataUrl = event.target.result;
                document.getElementById('uploadedModelImage').src = uploadedModelDataUrl;
                document.getElementById('uploadedModelPreview').style.display = 'block';
            };
            reader.readAsDataURL(file);

            showNotification('ุนฺฉุณ ุขูพููุฏ ุดุฏ! ุงู ุนฺฉุณ ุจู ุนููุงู ูุฏู ุงุณุชูุงุฏู ุฎูุงูุฏ ุดุฏ', 'success');
        });

        function clearUploadedModel() {
            uploadedModelFile = null;
            uploadedModelDataUrl = null;
            document.getElementById('modelPhotoUpload').value = '';
            document.getElementById('uploadedModelPreview').style.display = 'none';
            showNotification('ุนฺฉุณ ุขูพููุฏ ุดุฏู ุญุฐู ุดุฏ', 'success');
        }

        // Models Management Functions
        let allModels = [];
        let filteredModels = [];

        async function loadAllModels() {
            const loading = document.getElementById('modelsTableLoading');
            const content = document.getElementById('modelsTableContent');
            const empty = document.getElementById('modelsTableEmpty');

            loading.style.display = 'block';
            content.style.display = 'none';
            empty.style.display = 'none';

            try {
                const response = await fetchWithAuth('/api/admin/models');
                const data = await response.json();

                if (data.success) {
                    allModels = data.models || [];
                    filteredModels = allModels;

                    // Populate user filter dropdown
                    const filterByUser = document.getElementById('filterByUser');
                    const uniqueUsers = [...new Set(allModels.map(m => m.user_email))];
                    filterByUser.innerHTML = '<option value="">ููู ฺฉุงุฑุจุฑุงู</option>' +
                        uniqueUsers.map(email => `<option value="${email}">${email}</option>`).join('');

                    renderModelsTable();
                } else {
                    throw new Error(data.error || 'Failed to load models');
                }
            } catch (error) {
                console.error('Error loading models:', error);
                showNotification('ุฎุทุง ุฏุฑ ุจุงุฑฺฏุฐุงุฑ ูุฏูโูุง: ' + error.message, 'error');
                loading.style.display = 'none';
            }
        }

        function filterModels() {
            const filterUser = document.getElementById('filterByUser').value;
            const filterCategory = document.getElementById('filterByCategory').value;
            const filterVisibility = document.getElementById('filterByVisibility').value;

            filteredModels = allModels.filter(model => {
                if (filterUser && model.user_email !== filterUser) return false;
                if (filterCategory && model.category !== filterCategory) return false;
                if (filterVisibility && model.visibility !== filterVisibility) return false;
                return true;
            });

            renderModelsTable();
        }

        function renderModelsTable() {
            const loading = document.getElementById('modelsTableLoading');
            const content = document.getElementById('modelsTableContent');
            const empty = document.getElementById('modelsTableEmpty');
            const tbody = document.getElementById('modelsTableBody');

            loading.style.display = 'none';

            if (filteredModels.length === 0) {
                content.style.display = 'none';
                empty.style.display = 'block';
                return;
            }

            content.style.display = 'block';
            empty.style.display = 'none';

            const categoryEmojis = {
                'woman': '๐ฉ', 'man': '๐จ', 'girl': '๐ง', 'boy': '๐ฆ',
                'child': '๐ถ', 'couple': '๐', 'group': '๐ฅ', 'elderly': '๐ด',
                'teen': '๐ง', 'plus-size': 'โ', 'accessory': '๐', 'underwear': '๐'
            };

            tbody.innerHTML = filteredModels.map(model => `
                <tr style="border-bottom: 1px solid #e5e7eb; transition: background 0.2s;" onmouseover="this.style.background='#f9fafb'" onmouseout="this.style.background='white'">
                    <td style="padding: 12px; text-align: center;">
                        <input type="checkbox" class="model-checkbox" data-model-id="${model.id}" data-bucket="${model.bucket}" onchange="updateBulkSelection()" style="width: 18px; height: 18px; cursor: pointer;">
                    </td>
                    <td style="padding: 12px;">
                        <img src="${model.image_url}" alt="${model.name}" style="width: 80px; height: 80px; object-fit: cover; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                    </td>
                    <td style="padding: 12px; font-weight: 500; color: #1f2937;">
                        ${model.name || 'ุจุฏูู ูุงู'}
                    </td>
                    <td style="padding: 12px;">
                        <span style="background: #f3f4f6; padding: 4px 8px; border-radius: 6px; font-size: 13px;">
                            ${categoryEmojis[model.category] || 'โ'} ${model.category}
                        </span>
                    </td>
                    <td style="padding: 12px; color: #6b7280; font-size: 14px;">
                        ${model.user_email}
                        ${model.is_premium ? '<span style="color: #f59e0b;">โญ</span>' : ''}
                    </td>
                    <td style="padding: 12px;">
                        <span style="background: ${model.visibility === 'public' ? '#dcfce7' : '#fee2e2'}; color: ${model.visibility === 'public' ? '#166534' : '#991b1b'}; padding: 4px 12px; border-radius: 6px; font-size: 13px; font-weight: 600;">
                            ${model.visibility === 'public' ? '๐ ุนููู' : '๐ ุฎุตูุต'}
                        </span>
                    </td>
                    <td style="padding: 12px; color: #9ca3af; font-size: 13px;">
                        ${new Date(model.created_at).toLocaleDateString('fa-IR')}
                    </td>
                    <td style="padding: 12px; text-align: center;">
                        <button onclick="editModel('${model.id}', '${model.bucket}')" style="background: #3b82f6; color: white; padding: 6px 12px; border: none; border-radius: 6px; cursor: pointer; margin-left: 5px; font-size: 13px;">
                            โ๏ธ ูุฑุงุด
                        </button>
                        <button onclick="deleteModel('${model.id}', '${model.bucket}')" style="background: #ef4444; color: white; padding: 6px 12px; border: none; border-radius: 6px; cursor: pointer; font-size: 13px;">
                            ๐๏ธ ุญุฐู
                        </button>
                    </td>
                </tr>
            `).join('');
        }

        let currentEditingModelId = null;

        function editModel(modelId, bucket) {
            console.log('Edit clicked! modelId:', modelId, 'type:', typeof modelId, 'bucket:', bucket);
            console.log('allModels count:', allModels.length);
            console.log('First 3 model IDs:', allModels.slice(0, 3).map(m => ({ id: m.id, type: typeof m.id })));
            console.log('Looking for model with id:', modelId);

            // Try both strict and loose comparison
            let model = allModels.find(m => m.id === modelId);
            if (!model) {
                console.log('Strict match failed, trying loose match (==)');
                model = allModels.find(m => m.id == modelId);
            }
            console.log('Found model:', model);

            if (!model) {
                console.error('Model not found! modelId:', modelId, 'type:', typeof modelId);
                console.error('Sample IDs in array:', allModels.slice(0, 5).map(m => m.id));
                alert('ุฎุทุง: ูุฏู ูพุฏุง ูุดุฏ! ุดูุงุณู: ' + modelId);
                return;
            }

            currentEditingModelId = modelId;

            // Populate modal fields with current values
            document.getElementById('editModelName').value = model.name || '';
            document.getElementById('editModelCategory').value = model.category || 'woman';
            document.getElementById('editModelVisibility').value = model.visibility || 'private';

            // Populate users dropdown
            const userSelect = document.getElementById('editModelUser');
            userSelect.innerHTML = '<option value="">-- ุจุฏูู ูุงูฺฉ (ุณุณุชู) --</option>' +
                allUsers.map(user =>
                    `<option value="${user.user_id}" ${user.user_id === model.user_id ? 'selected' : ''}>
                        ${user.email}${user.is_premium ? ' โญ ูพุฑููู' : ''}
                    </option>`
                ).join('');

            // Show modal
            document.getElementById('editModelModal').style.display = 'flex';
        }

        function closeEditModal() {
            document.getElementById('editModelModal').style.display = 'none';
            currentEditingModelId = null;
        }

        async function saveModelEdit() {
            if (!currentEditingModelId) return;

            const newName = document.getElementById('editModelName').value;
            const newCategory = document.getElementById('editModelCategory').value;
            const newVisibility = document.getElementById('editModelVisibility').value;
            const newUserId = document.getElementById('editModelUser').value;

            if (!newName.trim()) {
                showNotification('ูุงู ูุฏู ููโุชูุงูุฏ ุฎุงู ุจุงุดุฏ', 'error');
                return;
            }

            try {
                const response = await fetchWithAuth('/api/admin/models/' + currentEditingModelId, {
                    method: 'PUT',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        name: newName,
                        category: newCategory,
                        visibility: newVisibility,
                        user_id: newUserId
                    })
                });

                const data = await response.json();

                if (data.success) {
                    showNotification('ูุฏู ุจุง ููููุช ูุฑุงุด ุดุฏ', 'success');
                    closeEditModal();
                    loadAllModels(); // Reload the list
                } else {
                    throw new Error(data.error || 'Update failed');
                }
            } catch (error) {
                console.error('Error updating model:', error);
                showNotification('ุฎุทุง ุฏุฑ ูุฑุงุด ูุฏู: ' + error.message, 'error');
            }
        }

        async function deleteModel(modelId, bucket) {
            if (!confirm('ุขุง ูุทูุฆู ูุณุชุฏ ฺฉู ูโุฎูุงูุฏ ุงู ูุฏู ุฑุง ุญุฐู ฺฉูุฏุ\nุงู ุนูู ูุฏู ุฑุง ุงุฒ ุฏุชุงุจุณ ู Storage ุญุฐู ูโฺฉูุฏ ู ุบุฑูุงุจู ุจุงุฒฺฏุดุช ุงุณุช!')) {
                return;
            }

            try {
                const response = await fetchWithAuth(`/api/admin/models/${modelId}`, {
                    method: 'DELETE'
                });

                const data = await response.json();

                if (data.success) {
                    showNotification('โ ูุฏู ุจุง ููููุช ุญุฐู ุดุฏ', 'success');
                    loadAllModels(); // Reload the list
                } else {
                    throw new Error(data.error || 'Delete failed');
                }
            } catch (error) {
                console.error('Error deleting model:', error);
                showNotification('ุฎุทุง ุฏุฑ ุญุฐู ูุฏู: ' + error.message, 'error');
            }
        }

        async function syncStorageToDatabase() {
            if (!confirm('ุขุง ูโุฎูุงูุฏ ูุงูโูุง Storage ุฑุง ุจุง ุฏุชุงุจุณ ููฺฏุงูโุณุงุฒ ฺฉูุฏุ\nุงู ุนูู ูุงูโูุง ุฌุฏุฏ ุฑุง ุจู ุฏุชุงุจุณ ุงุถุงูู ูโฺฉูุฏ.')) {
                return;
            }

            try {
                showNotification('โณ ุฏุฑ ุญุงู ููฺฏุงูโุณุงุฒ...', 'info');

                const response = await fetchWithAuth('/api/admin/sync-storage-to-db', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' }
                });

                const data = await response.json();

                if (data.success) {
                    showNotification(`โ ููฺฏุงูโุณุงุฒ ูููู: ${data.synced} ูุงู ุฌุฏุฏุ ${data.skipped} ููุฌูุฏ ุจูุฏ`, 'success');
                    loadAllModels(); // Reload the list
                } else {
                    throw new Error(data.error || 'Sync failed');
                }
            } catch (error) {
                console.error('Error syncing storage:', error);
                showNotification('ุฎุทุง ุฏุฑ ููฺฏุงูโุณุงุฒ: ' + error.message, 'error');
            }
        }

        async function makeAllModelsPublic() {
            if (!confirm('ุขุง ูุทูุฆู ูุณุชุฏ ฺฉู ูโุฎูุงูุฏ ููู ูุฏูโูุง ุฑุง ุนููู ฺฉูุฏุ\nุงู ุนูู ููู ูุฏูโูุง ุฎุตูุต ุฑุง ุจุฑุง ููู ฺฉุงุฑุจุฑุงู ูุงุจู ูุดุงูุฏู ูโฺฉูุฏ.')) {
                return;
            }

            try {
                const response = await fetchWithAuth('/api/admin/models/make-all-public', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' }
                });

                const data = await response.json();

                if (data.success) {
                    showNotification(`โ ${data.count} ูุฏู ุจุง ููููุช ุนููู ุดุฏูุฏ!`, 'success');
                    loadAllModels(); // Reload the list
                } else {
                    throw new Error(data.error || 'Update failed');
                }
            } catch (error) {
                console.error('Error making models public:', error);
                showNotification('ุฎุทุง ุฏุฑ ุชุบุฑ ุฏุณุชุฑุณ ูุฏูโูุง: ' + error.message, 'error');
            }
        }

        // Bulk Edit Functions
        let selectedModels = [];

        function updateBulkSelection() {
            const checkboxes = document.querySelectorAll('.model-checkbox:checked');
            selectedModels = Array.from(checkboxes).map(cb => ({
                id: cb.dataset.modelId,
                bucket: cb.dataset.bucket
            }));

            const count = selectedModels.length;
            document.getElementById('selectedCount').textContent = count;
            document.getElementById('bulkEditToolbar').style.display = count > 0 ? 'flex' : 'none';

            // Update select all checkbox
            const allCheckboxes = document.querySelectorAll('.model-checkbox');
            const selectAllCheckbox = document.getElementById('selectAllCheckbox');
            if (selectAllCheckbox) {
                selectAllCheckbox.checked = allCheckboxes.length > 0 && checkboxes.length === allCheckboxes.length;
            }
        }

        function toggleSelectAll() {
            const selectAllCheckbox = document.getElementById('selectAllCheckbox');
            const checkboxes = document.querySelectorAll('.model-checkbox');
            checkboxes.forEach(cb => {
                cb.checked = selectAllCheckbox.checked;
            });
            updateBulkSelection();
        }

        function clearSelection() {
            document.querySelectorAll('.model-checkbox').forEach(cb => cb.checked = false);
            document.getElementById('selectAllCheckbox').checked = false;
            updateBulkSelection();
        }

        function bulkEdit() {
            if (selectedModels.length === 0) {
                showNotification('ูุทูุงู ุญุฏุงูู ฺฉ ูุฏู ุงูุชุฎุงุจ ฺฉูุฏ', 'warning');
                return;
            }

            // Populate user dropdown
            const userSelect = document.getElementById('bulkEditUser');
            userSelect.innerHTML = '<option value="">-- ุจุฏูู ุชุบุฑ --</option>' +
                allUsers.map(user =>
                    `<option value="${user.user_id}">
                        ${user.email}${user.is_premium ? ' โญ ูพุฑููู' : ''}
                    </option>`
                ).join('');

            // Reset form
            document.getElementById('bulkEditCategory').value = '';
            document.getElementById('bulkEditVisibility').value = '';
            document.getElementById('bulkEditUser').value = '';

            // Show count
            document.getElementById('bulkEditCount').textContent = selectedModels.length;

            // Show modal
            document.getElementById('bulkEditModal').style.display = 'flex';
        }

        function closeBulkEditModal() {
            document.getElementById('bulkEditModal').style.display = 'none';
        }

        async function saveBulkEdit() {
            const category = document.getElementById('bulkEditCategory').value;
            const visibility = document.getElementById('bulkEditVisibility').value;
            const userId = document.getElementById('bulkEditUser').value;

            // Check if at least one field is changed
            if (!category && !visibility && !userId) {
                showNotification('ูุทูุงู ุญุฏุงูู ฺฉ ููุฏ ุฑุง ุชุบุฑ ุฏูุฏ', 'warning');
                return;
            }

            try {
                showNotification('ุฏุฑ ุญุงู ุงุนูุงู ุชุบุฑุงุช...', 'info');

                // Update each selected model
                let successCount = 0;
                let failCount = 0;

                for (const model of selectedModels) {
                    try {
                        const updates = {};
                        if (category) updates.category = category;
                        if (visibility) updates.visibility = visibility;
                        if (userId) updates.user_id = userId || null;

                        const response = await fetchWithAuth(`/api/admin/models/${model.id}`, {
                            method: 'PUT',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify(updates)
                        });

                        const data = await response.json();
                        if (data.success) {
                            successCount++;
                        } else {
                            failCount++;
                        }
                    } catch (error) {
                        console.error('Error updating model:', model.id, error);
                        failCount++;
                    }
                }

                closeBulkEditModal();
                clearSelection();

                if (successCount > 0) {
                    showNotification(`โ ${successCount} ูุฏู ุจุง ููููุช ุจูโุฑูุฒ ุดุฏ` + (failCount > 0 ? ` (${failCount} ููุฑุฏ ูุงูููู)` : ''), 'success');
                    await loadAllModels();
                } else {
                    showNotification('โ ุฎุทุง ุฏุฑ ุจูโุฑูุฒุฑุณุงู ูุฏูโูุง', 'error');
                }
            } catch (error) {
                console.error('Bulk edit error:', error);
                showNotification('ุฎุทุง ุฏุฑ ูุฑุงุด ุฏุณุชูโุฌูุน: ' + error.message, 'error');
            }
        }

        async function bulkDelete() {
            if (selectedModels.length === 0) {
                showNotification('ูุทูุงู ุญุฏุงูู ฺฉ ูุฏู ุงูุชุฎุงุจ ฺฉูุฏ', 'warning');
                return;
            }

            if (!confirm(`ุขุง ูุทูุฆู ูุณุชุฏ ฺฉู ูโุฎูุงูุฏ ${selectedModels.length} ูุฏู ุฑุง ุญุฐู ฺฉูุฏุ\nุงู ุนูู ูุงุจู ุจุงุฒฺฏุดุช ูุณุช!`)) {
                return;
            }

            try {
                showNotification('ุฏุฑ ุญุงู ุญุฐู ูุฏูโูุง...', 'info');

                let successCount = 0;
                let failCount = 0;

                for (const model of selectedModels) {
                    try {
                        const response = await fetchWithAuth(`/api/admin/models/${model.id}?bucket=${model.bucket}`, {
                            method: 'DELETE'
                        });

                        const data = await response.json();
                        if (data.success) {
                            successCount++;
                        } else {
                            failCount++;
                        }
                    } catch (error) {
                        console.error('Error deleting model:', model.id, error);
                        failCount++;
                    }
                }

                clearSelection();

                if (successCount > 0) {
                    showNotification(`โ ${successCount} ูุฏู ุจุง ููููุช ุญุฐู ุดุฏ` + (failCount > 0 ? ` (${failCount} ููุฑุฏ ูุงูููู)` : ''), 'success');
                    await loadAllModels();
                } else {
                    showNotification('โ ุฎุทุง ุฏุฑ ุญุฐู ูุฏูโูุง', 'error');
                }
            } catch (error) {
                console.error('Bulk delete error:', error);
                showNotification('ุฎุทุง ุฏุฑ ุญุฐู ุฏุณุชูโุฌูุน: ' + error.message, 'error');
            }
        }

        // Load users and models on page load
        loadUsers();
        loadAllModels();
    </script>
</body>
</html>
